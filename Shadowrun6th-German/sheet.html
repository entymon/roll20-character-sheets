<!-- DO NOT USE RADIO BUTTONS IN REPEATING SECTIONS -->

                
<div class="wholedocument"> <!-- WIL max 12, KON max 14 + Robust gebaut 4 -->
    <div class="header">
        <div class="header-row">
            <div class="header-fullcell">
                <h4>Zustandsmonitor und Wundabzüge</h4>
            </div>
            <div class="header-shortcell">
                <div class="center">
                    <h4>Edge</h4>
                </div>
            </div>
            <div class="header-hugecell">
                <div class="center">
                    <h4>Generische Würfelwürfe</h4>
                </div>
            </div>
        </div>
        <div class="header-row">
            <div class="header-fullcell"> <!-- das ist eine Tabellenzelle, da hinein muss eine neue Tabelle -->
                <div class="innertable">
                    <div class="table-row">
                        <div class="table-cell-huge-center">
                            <h6>geistig</h6>
                            <input class="smallinput" type="number" name="attr_wounds_stun_base" value="0" placeholder="0" title="wounds_stun_base" max="0" readonly/>
                        </div>
                        <div class="table-cell-huge-center">
                            <h6>körperlich</h6>
                            <input class="smallinput" type="number" name="attr_wounds_phys_base" value="0" placeholder="0" title="wounds_phys_base" max="0" readonly/>
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell-huge-center"> <!-- erneut innere Tabelle für Zentrierung erforderlich -->
                            <div class="header-centered">
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_stun_1_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_1" value="checked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_stun_toggle_1">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_2_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_2" value="checked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_2">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_3_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_3" value="checked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_3">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                </div>
                                <div class="header-row">        
                                    <input class="toggle-hide" name="attr_stun_4_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_4" value="checked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_stun_toggle_4">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_5_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_5" value="checked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_5">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_6_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_6" value="checked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_6">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                </div>
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_stun_7_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_7" value="checked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_stun_toggle_7">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_8_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_8" value="checked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_8">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_9_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_9" value="checked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_9">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button><br>
                                    </div>
                                </div>
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_stun_10_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_10" value="checked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_stun_toggle_10">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_11_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_11" value="checked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_11">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_12_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_12" value="checked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_12">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button><br>
                                    </div>
                                </div>
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_stun_13_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_13" value="checked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_stun_toggle_13">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_14_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_14" value="checked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_14">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                     <input class="toggle-hide" name="attr_stun_15_hide" type="checkbox" value="1"/>
                                     <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_15" value="checked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_15">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button><br>
                                    </div>
                                </div>
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_stun_16_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_16" value="checked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_stun_toggle_16">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_17_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_17" value="checked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_17">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_18_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_18" value="checked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_18">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button><br>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="table-cell-huge-center">
                            <div class="header-centered">
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_phys_1_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_1" value="checked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_phys_toggle_1">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_2_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_2" value="checked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_2">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_3_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_3" value="checked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_3">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                </div>
                                <div class="header-row">        
                                    <input class="toggle-hide" name="attr_phys_4_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_4" value="checked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_phys_toggle_4">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_5_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_5" value="checked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_5">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_6_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_6" value="checked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_6">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                </div>
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_phys_7_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_7" value="checked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_phys_toggle_7">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_8_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_8" value="checked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_8">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_9_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_9" value="checked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_9">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button><br>
                                    </div>
                                </div>
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_phys_10_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_10" value="checked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_phys_toggle_10">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_11_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_11" value="checked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_11">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_12_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_12" value="checked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_12">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button><br>
                                    </div>
                                </div>
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_phys_13_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_13" value="checked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_phys_toggle_13">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_14_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_14" value="checked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_14">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                     <input class="toggle-hide" name="attr_phys_15_hide" type="checkbox" value="1"/>
                                     <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_15" value="checked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_15">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button><br>
                                    </div>
                                </div>
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_phys_16_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_16" value="checked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_phys_toggle_16">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_17_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_17" value="checked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_17">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_18_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_18" value="checked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_18">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button><br>
                                    </div>
                                </div>
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_phys_19_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_19" value="checked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_phys_toggle_19">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header-shortcell">
                <div class="whiteborder">
                    <input class="toggle-hide toggle-hide-edge" name="attr_edge_1" type="checkbox" value="1"/>
                    <div class="inline edgetoken">
                        <img src="https://i.imgur.com/vNh5DtX.png" height="20" width="20" />
                    </div>
                    <input class="toggle-hide toggle-hide-edge" name="attr_edge_2" type="checkbox" value="1"/>
                    <div class="inline edgetoken">
                        <img src="https://i.imgur.com/vNh5DtX.png" height="20" width="20" />
                    </div>
                    <input class="toggle-hide toggle-hide-edge" name="attr_edge_3" type="checkbox" value="1"/>
                    <div class="inline edgetoken">
                        <img src="https://i.imgur.com/vNh5DtX.png" height="20" width="20" />
                    </div>
                    <input class="toggle-hide toggle-hide-edge" name="attr_edge_4" type="checkbox" value="1"/>
                    <div class="inline edgetoken">
                        <img src="https://i.imgur.com/vNh5DtX.png" height="20" width="20" />
                    </div>
                    <input class="toggle-hide toggle-hide-edge" name="attr_edge_5" type="checkbox" value="1"/>
                    <div class="inline edgetoken">
                        <img src="https://i.imgur.com/vNh5DtX.png" height="20" width="20" />
                    </div>
                    <input class="toggle-hide toggle-hide-edge" name="attr_edge_6" type="checkbox" value="1"/>
                    <div class="inline edgetoken">
                        <img src="https://i.imgur.com/vNh5DtX.png" height="20" width="20" />
                    </div>
                    <input class="toggle-hide toggle-hide-edge" name="attr_edge_7" type="checkbox" value="1"/>
                    <div class="inline edgetoken">
                        <img src="https://i.imgur.com/vNh5DtX.png" height="20" width="20" />
                    </div>
                    <input class="hide smallinput" type="number" name="attr_edge_current" value="0" placeholder="0" title="edge_current"/>
                </div>
                <div class="inline">
                    <button class="edgebutton" type="action" name="act_edge_plus_two">+2 Edge</button>
                    <button class="edgebutton" type="action" name="act_edge_plus_one">+1 Edge</button>
                    <button class="edgebutton" type="action" name="act_edge_minus_one">-1 Edge</button>
                    <button class="edgebutton" type="action" name="act_edge_minus_two">-2 Edge</button>
                    <button class="edgebutton" type="action" name="act_edge_minus_three">-3 Edge</button>
                    <button class="edgebutton" type="action" name="act_edge_minus_four">-4 Edge</button>
                    <button class="edgebutton" type="action" name="act_edge_minus_five">-5 Edge</button>
                    <button class="edgebutton" type="action" name="act_edge_reset">Szenenende</button>
                </div>
            </div>
            <div class="header-fullcell">
                <div class="smallspacer">&nbsp;</div>
                <button class="shortcutbutton" type="roll" name="offense" value="@{gm_toggle} &{template:roll}{{mainattribute=^{offense}}}{{weaponname=?{Name|Ares Predator VI}}}{{attackrating=[[?{Angriffswert|8}]]}}{{damage=[[?{Schadenscode|2}]]}}{{damagetype=?{Schadenstyp|körperlich|Betäubung|andere}}}{{dice=[[(?{Würfelpool|12}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                    <span class="cyberberry" data-i18n="offense">Angriff</span>
                </button>
                <br><div class="smallspacer">&nbsp;</div>
                <button class="shortcutbutton" type="roll" name="defense" value="@{gm_toggle} &{template:roll}{{mainattribute=^{defense}}}{{defenserating=[[?{Verteidigungswert|8}]]}}{{dice=[[(?{Würfelpool|12}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                    <span class="cyberberry" data-i18n="defense">Verteidigung</span>
                </button>
                <br><div class="smallspacer">&nbsp;</div>
                <button class="shortcutbutton" type="roll" name="soak" value="@{gm_toggle} &{template:roll}{{mainattribute=^{soak}}}{{soaksuccess=[[?{Autoerfolge|0}]]}}{{dice=[[(?{Würfelpool|4}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                    <span class="cyberberry" data-i18n="soak">Schadenswiderstand</span>
                </button> 
                <br><div class="smallspacer">&nbsp;</div>
                <button class="shortcutbutton" type="roll" name="initiative" value="@{gm_toggle} &{template:initiative}{{mainattribute=^{initiative}}}{{dice=[[(?{Initiativebasis|4}+@{use_wounds})+?{Initiativewürfel|4}d6cs>7cf<0 &{tracker}]]}}">
                    <span class="cyberberry" data-i18n="initiative">Initiative</span>
                </button>
                <br><div class="smallspacer">&nbsp;</div>
                <button class="shortcutbutton" type="roll" name="initiative" value="@{gm_toggle} &{template:roll}{{mainattribute=^{attributeorskill}}}{{weaponname=?{Was würfelst du?|Beschreibung}}}{{dice=[[(?{Würfelpool|4}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                    <span class="cyberberry" data-i18n="attributeorskill">Attributs- oder Fertigkeitswurf</span>
                </button>
            </div>
        </div>
        <div class="header-row">
            <div class="header-fullcell">
                &nbsp;
            </div>
            <div class="header-shortcell">
                <div class="center">
                    <h4>Optionen</h4>
                </div>
            </div>
            <div class="header-fullcell">
                <div class="center">
                    <h4>Handlungsmonitor</h4>
                </div>
            </div>
        </div>
        <div class="header-row">
            <div class="header-fullcell">
                <div class="table-row">
                    <input class="smallinput" type="number" name="attr_wounds_mod" value="0" placeholder="0" title="wounds_phys_base"/>
                    <span class="cyberberry-normal">Modifikator (Wundabzüge)</span>
                </div>
                <div class="table-row">
                    <input class="smallinput" type="number" name="attr_wounds_total" value="0" placeholder="0" title="wounds_phys_base" readonly/>
                    <h6>Gesamtwert (Wundabzüge)</h6>
                </div>
                <div class="table-row">
                    <input class="smallinput" type="number" name="attr_overflow" value="0" placeholder="0" title="wounds_phys_base"/>
                    <h6>Überzähliger Schaden</h6>
                </div>
            </div>
            <div class="header-shortcell">
                <label class="switch" data-i18n-title="gm_whisper" title="GM-Roll y/n">
                    <input name="attr_gm_toggle" type="checkbox" value="/w gm"/>
                    <span class="slider">&nbsp;</span>
                </label>
                <div class="slider-label">Würfe an Spielleiter</div><br>
                <label class="switch" data-i18n-title="mod_roll" title="Modify y/n">
                    <input name="attr_mod_roll" type="checkbox" value="?{Modifier|0}"/>
                    <span class="slider">&nbsp;</span>
                </label>
                <div class="slider-label">Probenmodifikatoren</div><br>
                <label class="switch" data-i18n-title="use_wounds" title="Wounds Penalties y/n">
                    <input name="attr_use_wounds" type="checkbox" value="@{wounds_total}"/> 
                    <span class="slider">&nbsp;</span>
                </label>
                <div class="slider-label">Wunden anwenden</div><br>
                <label class="switch" data-i18n-title="exploding_dice" title="Exploding dice y/n">
                    <input name="attr_explode_toggle" type="checkbox" value="!"/>
                    <span class="slider">&nbsp;</span>
                </label>
                <input type="hidden" name="attr_exploding_dice" value=""/>
                <div class="slider-label">explodierende Würfel</div><br>
            </div>
            <div class="header-fullcell">
                <div class="smallspacer">&nbsp;</div>
                <input class="smallinput" type="number" name="attr_minor_action_count" value="0" placeholder="0" title="minor_actions_count" min="2" max="5"/>
                <h6>Nebenhandlungen</h6>
                <button class="resetbutton" type="action" name="act_reset_action_count">
                    Zurücksetzen
                </button>
                <br><div class="smallspacer">&nbsp;</div>
                <input class="toggle-hide" name="attr_major_1_show" type="checkbox" value="1"/>
                <div class="inline actionbutton">
                    <input type="hidden" class="direction" name="attr_major_1" value="unstruck" />
                    <button class="actionbutton" type="action" name="act_major_1_toggle">
                        <span class="unstruck">Haupthandlung #1</span>
                        <span class="struck">Haupthandlung #1</span>
                    </button>
                </div>
                <input class="toggle-hide" name="attr_major_2_show" type="checkbox" value="1"/> 
                <div class="inline actionbutton">
                    <input type="hidden" class="direction" name="attr_major_2" value="unstruck" />
                    <button class="actionbutton" type="action" name="act_major_2_toggle">
                        <span class="unstruck">Haupthandlung #2</span>
                        <span class="struck">Haupthandlung #2</span>
                    </button>
                </div>
                <br><div class="smallspacer">&nbsp;</div>
                <input class="toggle-hide" name="attr_minor_1_show" type="checkbox" value="1"/> 
                <div class="inline actionbutton">
                    <input type="hidden" class="direction" name="attr_minor_1" value="unstruck" />
                    <button class="minoractionbutton" type="action" name="act_minor_1_toggle">
                        <span class="unstruck">Neben 1</span>
                        <span class="struck">Neben 1</span>
                    </button>
                </div>
                <input class="toggle-hide" name="attr_minor_2_show" type="checkbox" value="1"/> 
                <div class="inline actionbutton">
                    <input type="hidden" class="direction" name="attr_minor_2" value="unstruck" />
                    <button class="minoractionbutton" type="action" name="act_minor_2_toggle">
                        <span class="unstruck">Neben 2</span>
                        <span class="struck">Neben 2</span>
                    </button>
                </div>
                <input class="toggle-hide" name="attr_minor_3_show" type="checkbox" value="1"/> 
                <div class="inline actionbutton">
                    <input type="hidden" class="direction" name="attr_minor_3" value="unstruck" />
                    <button class="minoractionbutton" type="action" name="act_minor_3_toggle">
                        <span class="unstruck">Neben 3</span>
                        <span class="struck">Neben 3</span>
                    </button>
                </div>
                <input class="toggle-hide" name="attr_minor_4_show" type="checkbox" value="1"/> 
                <div class="inline actionbutton">
                    <input type="hidden" class="direction" name="attr_minor_4" value="unstruck" />
                    <button class="minoractionbutton" type="action" name="act_minor_4_toggle">
                        <span class="unstruck">Neben 4</span>
                        <span class="struck">Neben 4</span>
                    </button>
                </div>
                <input class="toggle-hide" name="attr_minor_5_show" type="checkbox" value="1"/> 
                <div class="inline actionbutton">
                    <input type="hidden" class="direction" name="attr_minor_5" value="unstruck" />
                    <button class="minoractionbutton" type="action" name="act_minor_5_toggle">
                        <span class="unstruck">Neben 5</span>
                        <span class="struck">Neben 5</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <br>
    <button class="toggle-hide headlinebutton" type="action" name="act_copyright" data-i18n="copyright">Copyright</button>
    <button class="headlinebutton" type="action" name="act_chardata" data-i18n="character">Charakter</button>
    <button class="headlinebutton" type="action" name="act_attributes" data-i18n="attributes">Attribute</button>
    <button class="headlinebutton" type="action" name="act_skills" data-i18n="skills">Fertigkeiten</button>
    <button class="headlinebutton" type="action" name="act_attacks" data-i18n="attacks">Angriffe</button>
    <button class="headlinebutton" type="action" name="act_magic" data-i18n="magic">Magie</button>
    <button class="headlinebutton" type="action" name="act_matrix" data-i18n="matrix">Matrix</button>
    <button class="headlinebutton" type="action" name="act_rigging" data-i18n="rigging">Rigger</button>
    <button class="headlinebutton" type="action" name="act_contacts" data-i18n="contacts">Connections</button>
    <button class="headlinebutton" type="action" name="act_gear" data-i18n="gear">Ausrüstung</button>
    <button class="headlinebutton" type="action" name="act_notes" data-i18n="notes">Notizen</button>
    <button class="headlinebutton" type="action" name="act_configuration" data-18n="config" >Configuration</button>
    <input type='hidden' class='sheet-tabstoggle' name='attr_sheetTab'  value='copyright' /> <!--Tab-Steuerung, zwingend notwendig-->
    <div class="sheet-copyright">
        <br>
        <h4>Shadowrun 6 Charakterbogen by Avalia</h4>
        <br>
        <h6>Version 0.1</h6>
        <br>
        <div data-i18n="copyrightfooter">
            The Topps Company, Inc. has sole ownership of the names, logo, artwork, marks, photographs, sounds, audio, video and/or any proprietary material used in connection with the game Shadowrun. The Topps Company, Inc. has granted permission to use such names, logos, artwork, marks and/or any proprietary materials for promotional and informational purposes on its website but does not endorse, and is not affiliated with any official capacity whatsoever.
		</div>
	</div>
    <div class='sheet-chardata'>
        <h3>Char</h3>
    </div>
    <div class='sheet-attributes'>
        <br>
        <div class="table-row">
            <div class="table-fullrow">
                <div class="table-cell-half">
                    <h4 data-i18n="attributes">Attribute</h4> 
                </div>
                <div class="table-cell-half">
                    <h4 data-i18n="derivatives">Abgeleitete Werte</h4>
                </div>
            </div>
        </div>
        <div class="table-row">
            <div class="table-fullrow">
                <div class="table-cell-half">
                    <div class="innertable">
                        <div class="table-row">
                            <div class="table-cell"><span class="red" data-i18n="empty">&nbsp;</span></div>
                            <div class="table-cell"><span class="red" data-i18n="basis">Basis</span></div>
                            <div class="table-cell"><span class="red" data-i18n="mod">Mod</span></div>
                            <div class="table-cell"><span class="red" data-i18n="total">Gesamt</span></div>
                            <div class="table-cell-center"><span class="red" data-i18n="rolls">Würfe</span></div>
                        </div>
                        <div class="table-row">
                        <div class="table-cell">
                            <span class="red" data-i18n="display_body">Konstitution</span>
                        </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_body_base" value="2" placeholder="2" title="@{body_base}" min="1"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_body_modifier" value="0" placeholder="0" title="@{body_modifier}" max="4"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_display_body" value="2" placeholder="2" readonly/></div>
                        <div class="table-cell">
                            <button class="smallbutton" type="roll" name="body" value="@{gm_toggle} &{template:roll}{{mainattribute=^{body}}}{{dice=[[(@{display_body}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="body_short">body</span>
                            </button>
                            <button class="smallbutton" type="roll" name="body" value="@{gm_toggle} &{template:roll}{{mainattribute=^{body}}}{{secondattribute=^{body}}}{{dice=[[(@{display_body}+@{display_body}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                (x2)
                            </button>
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell">
                            <span class="red" data-i18n="display_agility">Geschicklichkeit</span>
                        </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_agility_base" value="2" placeholder="2" title="@{agility_base}" min="1"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_agility_modifier" value="0" placeholder="0" title="@{agility_modifier}" max="4"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_display_agility" value="2" placeholder="2" readonly/></div>
                        <div class="table-cell">
                            <button class="smallbutton" type="roll" name="agility" value="@{gm_toggle} &{template:roll}{{mainattribute=^{agility}}}{{dice=[[(@{display_agility}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="agility_short">agility</span>
                            </button>
                            <button class="smallbutton" type="roll" name="agility" value="@{gm_toggle} &{template:roll}{{mainattribute=^{agility}}}{{secondattribute=^{agility}}}{{dice=[[(@{display_agility}+@{display_agility}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                (x2)
                            </button>
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell">
                            <span class="red" data-i18n="display_reaction">Reaktion</span>
                        </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_reaction_base" value="2" placeholder="2" title="@{reaction_base}" min="1"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_reaction_modifier" value="0" placeholder="0" title="@{reaction_modifier}" max="4"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_display_reaction" value="2" placeholder="2" readonly/></div>
                        <div class="table-cell">
                            <button class="smallbutton" type="roll" name="reaction" value="@{gm_toggle} &{template:roll}{{mainattribute=^{reaction}}}{{dice=[[(@{display_reaction}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="reaction_short">reaction</span>
                            </button>
                            <button class="smallbutton" type="roll" name="reaction" value="@{gm_toggle} &{template:roll}{{mainattribute=^{reaction}}}{{secondattribute=^{reaction}}}{{dice=[[(@{display_reaction}+@{display_reaction}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                (x2)
                            </button>
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell">
                            <span class="red" data-i18n="display_strength">Stärke</span>
                        </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_strength_base" value="2" placeholder="2" title="@{strength_base}" min="1"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_strength_modifier" value="0" placeholder="0" title="@{strength_modifier}" max="4"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_display_strength" value="2" placeholder="2" readonly/></div>
                        <div class="table-cell">
                            <button class="smallbutton" type="roll" name="strength" value="@{gm_toggle} &{template:roll}{{mainattribute=^{strength}}}{{dice=[[(@{display_strength}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="strength_short">strength</span>
                            </button>
                            <button class="smallbutton" type="roll" name="strength" value="@{gm_toggle} &{template:roll}{{mainattribute=^{strength}}}{{secondattribute=^{strength}}}{{dice=[[(@{display_strength}+@{display_strength}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                (x2)
                            </button>
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell">
                            <span class="red" data-i18n="display_willpower">Willenskraft</span>
                        </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_willpower_base" value="2" placeholder="2" title="@{willpower_base}" min="1"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_willpower_modifier" value="0" placeholder="0" title="@{willpower_modifier}" max="4"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_display_willpower" value="2" placeholder="2" readonly/></div>
                        <div class="table-cell">
                            <button class="smallbutton" type="roll" name="willpower" value="@{gm_toggle} &{template:roll}{{mainattribute=^{willpower}}}{{dice=[[(@{display_willpower}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="willpower_short">willpower</span>
                            </button>
                            <button class="smallbutton" type="roll" name="willpower" value="@{gm_toggle} &{template:roll}{{mainattribute=^{willpower}}}{{secondattribute=^{willpower}}}{{dice=[[(@{display_willpower}+@{display_willpower}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                (x2)
                            </button>
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell">
                            <span class="red" data-i18n="display_logic">Logik</span>
                        </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_logic_base" value="2" placeholder="2" title="@{logic_base}" min="1"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_logic_modifier" value="0" placeholder="0" title="@{logic_modifier}" max="4"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_display_logic" value="2" placeholder="2" readonly/></div>
                        <div class="table-cell">
                            <button class="smallbutton" type="roll" name="logic" value="@{gm_toggle} &{template:roll}{{mainattribute=^{logic}}}{{dice=[[(@{display_logic}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="logic_short">logic</span>
                            </button>
                            <button class="smallbutton" type="roll" name="logic" value="@{gm_toggle} &{template:roll}{{mainattribute=^{logic}}}{{secondattribute=^{logic}}}{{dice=[[(@{display_logic}+@{display_logic}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                (x2)
                            </button>
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell">
                            <span class="red" data-i18n="display_intuition">Intuition</span>
                        </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_intuition_base" value="2" placeholder="2" title="@{intuition_base}" min="1"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_intuition_modifier" value="0" placeholder="0" title="@{intuition_modifier}" max="4"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_display_intuition" value="2" placeholder="2" readonly/></div>
                        <div class="table-cell">
                            <button class="smallbutton" type="roll" name="intuition" value="@{gm_toggle} &{template:roll}{{mainattribute=^{intuition}}}{{dice=[[(@{display_intuition}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="intuition_short">intuition</span>
                            </button>
                            <button class="smallbutton" type="roll" name="intuition" value="@{gm_toggle} &{template:roll}{{mainattribute=^{intuition}}}{{secondattribute=^{intuition}}}{{dice=[[(@{display_intuition}+@{display_intuition}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                (x2)
                            </button>
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell">
                            <span class="red" data-i18n="display_charisma">Charisma</span>
                        </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_charisma_base" value="2" placeholder="2" title="@{charisma_base}" min="1"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_charisma_modifier" value="0" placeholder="0" title="@{charisma_modifier}" max="4"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_display_charisma" value="2" placeholder="2" readonly/></div>
                        <div class="table-cell">
                            <button class="smallbutton" type="roll" name="charisma" value="@{gm_toggle} &{template:roll}{{mainattribute=^{charisma}}}{{dice=[[(@{display_charisma}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="charisma_short">charisma</span>
                            </button>
                            <button class="smallbutton" type="roll" name="charisma" value="@{gm_toggle} &{template:roll}{{mainattribute=^{charisma}}}{{secondattribute=^{charisma}}}{{dice=[[(@{display_charisma}+@{display_charisma}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                (x2)
                            </button>
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell">
                            <span class="red" data-i18n="display_edge">Edge</span>
                        </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_edge_base" value="1" placeholder="1" title="@{edge_base}" min="1"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_edge_modifier" value="0" placeholder="0" title="@{edge_modifier}" max="4"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_display_edge" value="2" placeholder="2" readonly/></div>
                        <div class="table-cell">
                            <button class="smallbutton" type="roll" name="edge" value="@{gm_toggle} &{template:roll}{{mainattribute=^{edge}}}{{dice=[[(@{display_edge}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="edge_short">edge</span>
                            </button>
                            <button class="smallbutton" type="roll" name="edge" value="@{gm_toggle} &{template:roll}{{mainattribute=^{edge}}}{{secondattribute=^{edge}}}{{dice=[[(@{display_edge}+@{display_edge}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                (x2)
                            </button>
                        </div>
                    </div>
                    </div>
                </div>
                <div class="table-cell-half">
                    <div class="innertable">
                        <div class="table-row">
                            <div class="table-cell"><span class="red" data-i18n="empty">&nbsp;</span></div>
                            <div class="table-cell"><span class="red" data-i18n="basis">Basis</span></div>
                            <div class="table-cell"><span class="red" data-i18n="mod">Mod</span></div>
                            <div class="table-cell"><span class="red" data-i18n="total">Gesamt</span></div>
                            <div class="table-cell-center"><span class="red" data-i18n="rolls">Würfe</span></div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">
                                <span class="red" data-i18n="composure">Selbstbeherrschung</span>
                            </div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_composure_base" value="4" placeholder="4" title="@{composure_base}" /></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_composure_modifier" value="0" placeholder="0"/></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_display_composure" value="4" placeholder="4" readonly/></div>
                            <div class="table-cell">
                                <button class="mediumbutton" type="roll" name="composure" value="@{gm_toggle} &{template:roll}{{mainattribute=^{composure}}}{{dice=[[(@{display_composure}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-i18n="cha_wil">CHA + WIL</span>
                                </button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">
                                <span class="red" data-i18n="judgeintent">Menschenkenntnis</span>
                            </div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_judgeintent_base" value="4" placeholder="4" title="@{judgeintent_base}" /></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_judgeintent_modifier" value="0" placeholder="0"/></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_display_judgeintent" value="4" placeholder="4" readonly/></div>
                            <div class="table-cell">
                                <button class="mediumbutton" type="roll" name="judgeintent" value="@{gm_toggle} &{template:roll}{{mainattribute=^{judgeintent}}}{{dice=[[(@{display_judgeintent}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-i18n="int_wil">INT + WIL</span>
                                </button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">
                                <span class="red" data-i18n="memory">Erinnerungsvermögen</span>
                            </div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_memory_base" value="4" placeholder="4" title="@{memory_base}" /></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_memory_modifier" value="0" placeholder="0"/></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_display_memory" value="4" placeholder="4" readonly/></div>
                            <div class="table-cell">
                                <button class="mediumbutton" type="roll" name="memory" value="@{gm_toggle} &{template:roll}{{mainattribute=^{memory}}}{{dice=[[(@{display_memory}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-i18n="log_int">LOG + INT</span>
                                </button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">
                                <span class="red" data-i18n="liftcarry">Heben & Tragen</span>
                            </div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_liftcarry_base" value="4" placeholder="4" title="@{liftcarry_base}" /></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_liftcarry_modifier" value="0" placeholder="0"/></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_display_liftcarry" value="4" placeholder="4" readonly/></div>
                            <div class="table-cell">
                                <button class="mediumbutton" type="roll" name="liftcarry" value="@{gm_toggle} &{template:roll}{{mainattribute=^{liftcarry}}}{{dice=[[(@{display_liftcarry}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-i18n="bod_wil">KON + WIL</span>
                                </button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">
                                <span class="red" data-i18n="ini">Verteidigungspool</span>
                            </div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_ini_base" value="4" placeholder="4" title="@{ini_base}" /></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_ini_modifier" value="0" placeholder="0"/></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_display_ini" value="4" placeholder="4" readonly/></div>
                            <div class="table-cell">
                                <button class="mediumbutton" type="roll" name="ini" value="@{gm_toggle} &{template:roll}{{mainattribute=^{ini}}}{{dice=[[(@{display_ini}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-i18n="rea_int">REA + INT</span>
                                </button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">
                                <span class="red" data-i18n="inidice">Initiativewürfel</span>
                            </div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_inidice_base" value="1" placeholder="1" title="@{inidice_base}" /></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_inidice_modifier" value="0" placeholder="0"/></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_display_inidice" value="1" placeholder="1" readonly/></div>
                            <div class="table-cell">
                                <button class="hiddensmallbutton" type="roll" name="ini" value="@{gm_toggle} &{template:roll}{{mainattribute=^{ini}}}{{dice=[[(@{display_ini})d6@{exploding_dice}cs>5>5sd+@{use_wounds}]]}}">
                                        <span class="red" data-i18n="rea_int">This is hidden</span>
                                </button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">
                                <span class="red" data-i18n="iniphys">Initiative (physisch)</span>
                            </div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_iniphys_base" value="4" placeholder="4" title="@{iniphys_base}" /></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_iniphys_modifier" value="0" placeholder="0"/></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_display_iniphys" value="4" placeholder="4" readonly/></div>
                            <div class="table-cell">
                                <button class="mediumbutton" type="roll" name="iniphys" value="@{gm_toggle} &{template:initiative}{{mainattribute=^{iniphys}}}{{dice=[[(@{display_iniphys}+@{use_wounds})+(@{display_inidice})d6cs>7cf<0 &{tracker}]]}}">
                                        <span class="red" data-18n="select_token">Tokenroll</span>
                                </button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">
                                <span class="red" data-i18n="inimatrix">Initiative (Matrix)</span>
                            </div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_inimatrix_base" value="4" placeholder="4" title="@{inimatrix_base}" /></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_inimatrix_modifier" value="0" placeholder="0"/></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_display_inimatrix" value="4" placeholder="4" readonly/></div>
                            <div class="table-cell">
                                <button class="mediumbutton" type="roll" name="inimatrix" value="@{gm_toggle} &{template:initiative}{{mainattribute=^{inimatrix}}}{{dice=[[(@{display_inimatrix}+@{use_wounds})+3d6cs>7cf<0 &{tracker}]]}}">
                                        <span class="red" data-18n="select_token">Tokenroll</span>
                                </button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">
                                <span class="red" data-i18n="iniastral">Initiative (Astral)</span>
                            </div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_iniastral_base" value="4" placeholder="4" title="@{iniastral_base}" /></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_iniastral_modifier" value="0" placeholder="0"/></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_display_iniastral" value="4" placeholder="4" readonly/></div>
                            <div class="table-cell">
                                <button class="mediumbutton" type="roll" name="iniastral" value="@{gm_toggle} &{template:initiative}{{mainattribute=^{iniastral}}}{{dice=[[(@{display_iniastral}+@{use_wounds})+2d6cs>7cf<0 &{tracker}]]}}">
                                        <span class="red" data-18n="select_token">Tokenroll</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class='sheet-skills'>
        <br>
        <div class="table-row">
            <div class="table-fullrow">
                <div class="table-cell-quarter">
                    <h4 data-i18n="skills">Fertigkeiten</h4>
                </div>
                <div class="table-cell-threequarter">
                    <button type="action" name="act_reset_skill_visibility">
                        alle Fertigkeiten sichtbar machen
                    </button>
                    <button type="action" name="act_hide_unused_skills">
                        Fertigkeiten ohne Punkte ausblenden
                    </button>
                    <button type="action" name="act_reset_skill_values">
                        Fertigkeiten zurücksetzen
                    </button>
                </div>
            </div>
        </div>
        <div class="table-row">
            <div class="table-fullrow">
                <div class="table-cell-full">
                    <div class="innertable">
                        <div class="table-row">
                            <div class="table-cell-skill-hide"><span class="red" data-i18n="hide">Verbergen</span></div>
                            <div class="table-cell-skill-level"><span class="red" data-i18n="skill_level">Stufe</span></div>
                            <div class="table-cell-skill-mod"><span class="red" data-i18n="skill_modifier">Mod</span></div>
                            <div class="table-cell-skill-attribute"><span class="red" data-i18n="skill_attribute">Attribut</span></div>
                            <div class="table-cell-skill-spec"><span class="red" data-i18n="specialisation">Spezialisierung</span></div>
                            <div class="table-cell-skill-exp"><span class="red" data-i18n="expertise">Expertise</span></div>
                            <div class="table-cell-skill-total"><span class="red" data-i18n="total">Gesamt</span></div>
                            <div class="table-cell-skill-rolls">&nbsp;</div>
                            <div class="table-cell-skill-rolls"><span class="red" data-i18n="rolls">Würfe</span></div>
                            <div class="table-cell-skill-rolls">&nbsp;</div>
                            
                        </div>
                        <!--Astral-->
                        <input class="toggle-hide-astral" name="attr_skill_astral_hide" type="checkbox" value="1"/>
                        <div class="table-row-astral">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_astral_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_astral">Astral</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_astral_base" value="-1" placeholder="-1" title="@{skill_astral_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_astral_modifier" value="0" placeholder="0" title="@{skill_astral_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_astral_attribute" value="int" title="skill_astral_attribute"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition" selected>INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-astral-spec" name="attr_skill_astral_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-astral-spec" type="text" name="attr_skill_astral_spec" title="@{skill_astral_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-astral-exp" name="attr_skill_astral_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-astral-exp" type="text" name="attr_skill_astral_exp" title="@{skill_astral_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_astral_total" value="@{skill_astral_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_astral_total_spec" value="@{skill_astral_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_astral_total_exp" value="@{skill_astral_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_astral_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_astral_attribute}}}}{{secondattribute=^{skill_astral}}}{{dicepool=^{@{skill_astral_total}+@{use_wounds}}}}{{dice=[[(@{skill_astral_total}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_astral_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-astral-spec"></span>
                                <span class="invisible-astral-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_astral_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_astral_attribute}}}}{{secondattribute=^{skill_astral}}}{{specialisation=@{skill_astral_spec}}}{{dicepool=^{@{skill_astral_total_spec}+@{use_wounds}}}}{{dice=[[(@{skill_astral_total}+@{use_wounds}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_astral_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-astral-exp"></span>
                                <span class="invisible-astral-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_astral_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_astral_attribute}}}}{{secondattribute=^{skill_astral}}}{{expertise=@{skill_astral_exp}}}{{dicepool=^{@{skill_astral_total_exp}+@{use_wounds}}}}{{dice=[[(@{skill_astral_total}+@{use_wounds}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--athletics-->
                        <input class="toggle-hide-athletics" name="attr_skill_athletics_hide" type="checkbox" value="1"/>
                        <div class="table-row-athletics">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_athletics_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_athletics">athletics</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_athletics_base" value="-1" placeholder="-1" title="@{skill_athletics_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_athletics_modifier" value="0" placeholder="0" title="@{skill_athletics_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_athletics_attribute" value="int" title="@{skill_athletics_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility" selected>GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-athletics-spec" name="attr_skill_athletics_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-athletics-spec" type="text" name="attr_skill_athletics_spec" title="@{skill_athletics_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-athletics-exp" name="attr_skill_athletics_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-athletics-exp" type="text" name="attr_skill_athletics_exp" title="@{skill_athletics_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_athletics_total" value="@{skill_athletics_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_athletics_total_spec" value="@{skill_athletics_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_athletics_total_exp" value="@{skill_athletics_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_athletics_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_athletics_attribute}}}}{{secondattribute=^{skill_athletics}}}{{dicepool=^{@{skill_athletics_total}}}}{{dice=[[(@{skill_athletics_total}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_athletics_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-athletics-spec"></span>
                                <span class="invisible-athletics-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_athletics_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_athletics_attribute}}}}{{secondattribute=^{skill_athletics}}}{{specialisation=@{skill_athletics_spec}}}{{dicepool=^{@{skill_athletics_total_spec}}}}{{dice=[[(@{skill_athletics_total}+@{use_wounds}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_athletics_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-athletics-exp"></span>
                                <span class="invisible-athletics-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_athletics_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_athletics_attribute}}}}{{secondattribute=^{skill_athletics}}}{{expertise=@{skill_athletics_exp}}}{{dicepool=^{@{skill_athletics_total_exp}}}}{{dice=[[(@{skill_athletics_total}+@{use_wounds}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--biotech-->
                        <input class="toggle-hide-biotech" name="attr_skill_biotech_hide" type="checkbox" value="1"/>
                        <div class="table-row-biotech">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_biotech_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_biotech">biotech</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_biotech_base" value="-1" placeholder="-1" title="@{skill_biotech_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_biotech_modifier" value="0" placeholder="0" title="@{skill_biotech_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_biotech_attribute" value="int" title="@{skill_biotech_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic" selected>LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-biotech-spec" name="attr_skill_biotech_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-biotech-spec" type="text" name="attr_skill_biotech_spec" title="@{skill_biotech_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-biotech-exp" name="attr_skill_biotech_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-biotech-exp" type="text" name="attr_skill_biotech_exp" title="@{skill_biotech_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_biotech_total" value="@{skill_biotech_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_biotech_total_spec" value="@{skill_biotech_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_biotech_total_exp" value="@{skill_biotech_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_biotech_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_biotech_attribute}}}}{{secondattribute=^{skill_biotech}}}{{dicepool=^{@{skill_biotech_total}}}}{{dice=[[(@{skill_biotech_total}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_biotech_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-biotech-spec"></span>
                                <span class="invisible-biotech-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_biotech_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_biotech_attribute}}}}{{secondattribute=^{skill_biotech}}}{{specialisation=@{skill_biotech_spec}}}{{dicepool=^{@{skill_biotech_total_spec}}}}{{dice=[[(@{skill_biotech_total}+@{use_wounds}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_biotech_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-biotech-exp"></span>
                                <span class="invisible-biotech-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_biotech_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_biotech_attribute}}}}{{secondattribute=^{skill_biotech}}}{{expertise=@{skill_biotech_exp}}}{{dicepool=^{@{skill_biotech_total_exp}}}}{{dice=[[(@{skill_biotech_total}+@{use_wounds}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--cracking-->
                        <input class="toggle-hide-cracking" name="attr_skill_cracking_hide" type="checkbox" value="1"/>
                        <div class="table-row-cracking">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_cracking_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_cracking">cracking</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_cracking_base" value="-1" placeholder="-1" title="@{skill_cracking_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_cracking_modifier" value="0" placeholder="0" title="@{skill_cracking_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_cracking_attribute" value="int" title="@{skill_cracking_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic" selected>LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-cracking-spec" name="attr_skill_cracking_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-cracking-spec" type="text" name="attr_skill_cracking_spec" title="@{skill_cracking_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-cracking-exp" name="attr_skill_cracking_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-cracking-exp" type="text" name="attr_skill_cracking_exp" title="@{skill_cracking_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_cracking_total" value="@{skill_cracking_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_cracking_total_spec" value="@{skill_cracking_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_cracking_total_exp" value="@{skill_cracking_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_cracking_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_cracking_attribute}}}}{{secondattribute=^{skill_cracking}}}{{dicepool=^{@{skill_cracking_total}}}}{{dice=[[(@{skill_cracking_total}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_cracking_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-cracking-spec"></span>
                                <span class="invisible-cracking-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_cracking_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_cracking_attribute}}}}{{secondattribute=^{skill_cracking}}}{{specialisation=@{skill_cracking_spec}}}{{dicepool=^{@{skill_cracking_total_spec}}}}{{dice=[[(@{skill_cracking_total}+@{use_wounds}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_cracking_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-cracking-exp"></span>
                                <span class="invisible-cracking-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_cracking_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_cracking_attribute}}}}{{secondattribute=^{skill_cracking}}}{{expertise=@{skill_cracking_exp}}}{{dicepool=^{@{skill_cracking_total_exp}}}}{{dice=[[(@{skill_cracking_total}+@{use_wounds}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--influence-->
                        <input class="toggle-hide-influence" name="attr_skill_influence_hide" type="checkbox" value="1"/>
                        <div class="table-row-influence">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_influence_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_influence">influence</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_influence_base" value="-1" placeholder="-1" title="@{skill_influence_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_influence_modifier" value="0" placeholder="0" title="@{skill_influence_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_influence_attribute" value="int" title="@{skill_influence_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma" selected>CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-influence-spec" name="attr_skill_influence_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-influence-spec" type="text" name="attr_skill_influence_spec" title="@{skill_influence_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-influence-exp" name="attr_skill_influence_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-influence-exp" type="text" name="attr_skill_influence_exp" title="@{skill_influence_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_influence_total" value="@{skill_influence_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_influence_total_spec" value="@{skill_influence_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_influence_total_exp" value="@{skill_influence_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_influence_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_influence_attribute}}}}{{secondattribute=^{skill_influence}}}{{dicepool=^{@{skill_influence_total}}}}{{dice=[[(@{skill_influence_total}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_influence_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-influence-spec"></span>
                                <span class="invisible-influence-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_influence_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_influence_attribute}}}}{{secondattribute=^{skill_influence}}}{{specialisation=@{skill_influence_spec}}}{{dicepool=^{@{skill_influence_total_spec}}}}{{dice=[[(@{skill_influence_total}+@{use_wounds}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_influence_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-influence-exp"></span>
                                <span class="invisible-influence-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_influence_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_influence_attribute}}}}{{secondattribute=^{skill_influence}}}{{expertise=@{skill_influence_exp}}}{{dicepool=^{@{skill_influence_total_exp}}}}{{dice=[[(@{skill_influence_total}+@{use_wounds}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--electronics-->
                        <input class="toggle-hide-electronics" name="attr_skill_electronics_hide" type="checkbox" value="1"/>
                        <div class="table-row-electronics">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_electronics_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_electronics">electronics</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_electronics_base" value="-1" placeholder="-1" title="@{skill_electronics_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_electronics_modifier" value="0" placeholder="0" title="@{skill_electronics_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_electronics_attribute" value="int" title="@{skill_electronics_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic" selected>LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-electronics-spec" name="attr_skill_electronics_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-electronics-spec" type="text" name="attr_skill_electronics_spec" title="@{skill_electronics_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-electronics-exp" name="attr_skill_electronics_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-electronics-exp" type="text" name="attr_skill_electronics_exp" title="@{skill_electronics_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_electronics_total" value="@{skill_electronics_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_electronics_total_spec" value="@{skill_electronics_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_electronics_total_exp" value="@{skill_electronics_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_electronics_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_electronics_attribute}}}}{{secondattribute=^{skill_electronics}}}{{dicepool=^{@{skill_electronics_total}}}}{{dice=[[(@{skill_electronics_total}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_electronics_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-electronics-spec"></span>
                                <span class="invisible-electronics-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_electronics_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_electronics_attribute}}}}{{secondattribute=^{skill_electronics}}}{{specialisation=@{skill_electronics_spec}}}{{dicepool=^{@{skill_electronics_total_spec}}}}{{dice=[[(@{skill_electronics_total}+@{use_wounds}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_electronics_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-electronics-exp"></span>
                                <span class="invisible-electronics-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_electronics_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_electronics_attribute}}}}{{secondattribute=^{skill_electronics}}}{{expertise=@{skill_electronics_exp}}}{{dicepool=^{@{skill_electronics_total_exp}}}}{{dice=[[(@{skill_electronics_total}+@{use_wounds}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--firearms-->
                        <input class="toggle-hide-firearms" name="attr_skill_firearms_hide" type="checkbox" value="1"/>
                        <div class="table-row-firearms">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_firearms_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_firearms">firearms</span>
                                </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_firearms_base" value="-1" placeholder="-1" title="@{skill_firearms_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_firearms_modifier" value="0" placeholder="0" title="@{skill_firearms_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_firearms_attribute" value="int" title="@{skill_firearms_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility" selected>GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-firearms-spec" name="attr_skill_firearms_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-firearms-spec" type="text" name="attr_skill_firearms_spec" title="@{skill_firearms_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-firearms-exp" name="attr_skill_firearms_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-firearms-exp" type="text" name="attr_skill_firearms_exp" title="@{skill_firearms_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_firearms_total" value="@{skill_firearms_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_firearms_total_spec" value="@{skill_firearms_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_firearms_total_exp" value="@{skill_firearms_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_firearms_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_firearms_attribute}}}}{{secondattribute=^{skill_firearms}}}{{dicepool=^{@{skill_firearms_total}}}}{{dice=[[(@{skill_firearms_total}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_firearms_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-firearms-spec"></span>
                                <span class="invisible-firearms-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_firearms_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_firearms_attribute}}}}{{secondattribute=^{skill_firearms}}}{{specialisation=@{skill_firearms_spec}}}{{dicepool=^{@{skill_firearms_total_spec}}}}{{dice=[[(@{skill_firearms_total}+@{use_wounds}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_firearms_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-firearms-exp"></span>
                                <span class="invisible-firearms-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_firearms_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_firearms_attribute}}}}{{secondattribute=^{skill_firearms}}}{{expertise=@{skill_firearms_exp}}}{{dicepool=^{@{skill_firearms_total_exp}}}}{{dice=[[(@{skill_firearms_total}+@{use_wounds}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--stealth-->
                        <input class="toggle-hide-stealth" name="attr_skill_stealth_hide" type="checkbox" value="1"/>
                        <div class="table-row-stealth">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_stealth_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_stealth">stealth</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_stealth_base" value="-1" placeholder="-1" title="@{skill_stealth_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_stealth_modifier" value="0" placeholder="0" title="@{skill_stealth_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_stealth_attribute" value="int" title="@{skill_stealth_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility" selected>GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-stealth-spec" name="attr_skill_stealth_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-stealth-spec" type="text" name="attr_skill_stealth_spec" title="@{skill_stealth_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-stealth-exp" name="attr_skill_stealth_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-stealth-exp" type="text" name="attr_skill_stealth_exp" title="@{skill_stealth_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_stealth_total" value="@{skill_stealth_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_stealth_total_spec" value="@{skill_stealth_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_stealth_total_exp" value="@{skill_stealth_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_stealth_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_stealth_attribute}}}}{{secondattribute=^{skill_stealth}}}{{dicepool=^{@{skill_stealth_total}}}}{{dice=[[(@{skill_stealth_total}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_stealth_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-stealth-spec"></span>
                                <span class="invisible-stealth-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_stealth_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_stealth_attribute}}}}{{secondattribute=^{skill_stealth}}}{{specialisation=@{skill_stealth_spec}}}{{dicepool=^{@{skill_stealth_total_spec}}}}{{dice=[[(@{skill_stealth_total}+@{use_wounds}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_stealth_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-stealth-exp"></span>
                                <span class="invisible-stealth-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_stealth_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_stealth_attribute}}}}{{secondattribute=^{skill_stealth}}}{{expertise=@{skill_stealth_exp}}}{{dicepool=^{@{skill_stealth_total_exp}}}}{{dice=[[(@{skill_stealth_total}+@{use_wounds}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--engineering-->
                        <input class="toggle-hide-engineering" name="attr_skill_engineering_hide" type="checkbox" value="1"/>
                        <div class="table-row-engineering">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_engineering_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_engineering">engineering</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_engineering_base" value="-1" placeholder="-1" title="@{skill_engineering_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_engineering_modifier" value="0" placeholder="0" title="@{skill_engineering_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_engineering_attribute" value="int" title="@{skill_engineering_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic" selected>LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-engineering-spec" name="attr_skill_engineering_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-engineering-spec" type="text" name="attr_skill_engineering_spec" title="@{skill_engineering_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-engineering-exp" name="attr_skill_engineering_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-engineering-exp" type="text" name="attr_skill_engineering_exp" title="@{skill_engineering_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_engineering_total" value="@{skill_engineering_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_engineering_total_spec" value="@{skill_engineering_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_engineering_total_exp" value="@{skill_engineering_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_engineering_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_engineering_attribute}}}}{{secondattribute=^{skill_engineering}}}{{dicepool=^{@{skill_engineering_total}}}}{{dice=[[(@{skill_engineering_total}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_engineering_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-engineering-spec"></span>
                                <span class="invisible-engineering-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_engineering_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_engineering_attribute}}}}{{secondattribute=^{skill_engineering}}}{{specialisation=@{skill_engineering_spec}}}{{dicepool=^{@{skill_engineering_total_spec}}}}{{dice=[[(@{skill_engineering_total}+@{use_wounds}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_engineering_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-engineering-exp"></span>
                                <span class="invisible-engineering-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_engineering_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_engineering_attribute}}}}{{secondattribute=^{skill_engineering}}}{{expertise=@{skill_engineering_exp}}}{{dicepool=^{@{skill_engineering_total_exp}}}}{{dice=[[(@{skill_engineering_total}+@{use_wounds}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--melee-->
                        <input class="toggle-hide-melee" name="attr_skill_melee_hide" type="checkbox" value="1"/>
                        <div class="table-row-melee">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_melee_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_melee">melee</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_melee_base" value="-1" placeholder="-1" title="@{skill_melee_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_melee_modifier" value="0" placeholder="0" title="@{skill_melee_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_melee_attribute" value="int" title="@{skill_melee_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility" selected>GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-melee-spec" name="attr_skill_melee_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-melee-spec" type="text" name="attr_skill_melee_spec" title="@{skill_melee_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-melee-exp" name="attr_skill_melee_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-melee-exp" type="text" name="attr_skill_melee_exp" title="@{skill_melee_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_melee_total" value="@{skill_melee_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_melee_total_spec" value="@{skill_melee_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_melee_total_exp" value="@{skill_melee_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_melee_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_melee_attribute}}}}{{secondattribute=^{skill_melee}}}{{dicepool=^{@{skill_melee_total}}}}{{dice=[[(@{skill_melee_total}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_melee_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-melee-spec"></span>
                                <span class="invisible-melee-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_melee_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_melee_attribute}}}}{{secondattribute=^{skill_melee}}}{{specialisation=@{skill_melee_spec}}}{{dicepool=^{@{skill_melee_total_spec}}}}{{dice=[[(@{skill_melee_total}+@{use_wounds}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_melee_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-melee-exp"></span>
                                <span class="invisible-melee-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_melee_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_melee_attribute}}}}{{secondattribute=^{skill_melee}}}{{expertise=@{skill_melee_exp}}}{{dicepool=^{@{skill_melee_total_exp}}}}{{dice=[[(@{skill_melee_total}+@{use_wounds}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--outdoors-->
                        <input class="toggle-hide-outdoors" name="attr_skill_outdoors_hide" type="checkbox" value="1"/>
                        <div class="table-row-outdoors">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_outdoors_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_outdoors">outdoors</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_outdoors_base" value="-1" placeholder="-1" title="@{skill_outdoors_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_outdoors_modifier" value="0" placeholder="0" title="@{skill_outdoors_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_outdoors_attribute" value="int" title="@{skill_outdoors_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition" selected>INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-outdoors-spec" name="attr_skill_outdoors_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-outdoors-spec" type="text" name="attr_skill_outdoors_spec" title="@{skill_outdoors_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-outdoors-exp" name="attr_skill_outdoors_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-outdoors-exp" type="text" name="attr_skill_outdoors_exp" title="@{skill_outdoors_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_outdoors_total" value="@{skill_outdoors_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_outdoors_total_spec" value="@{skill_outdoors_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_outdoors_total_exp" value="@{skill_outdoors_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_outdoors_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_outdoors_attribute}}}}{{secondattribute=^{skill_outdoors}}}{{dicepool=^{@{skill_outdoors_total}}}}{{dice=[[(@{skill_outdoors_total}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_outdoors_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-outdoors-spec"></span>
                                <span class="invisible-outdoors-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_outdoors_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_outdoors_attribute}}}}{{secondattribute=^{skill_outdoors}}}{{specialisation=@{skill_outdoors_spec}}}{{dicepool=^{@{skill_outdoors_total_spec}}}}{{dice=[[(@{skill_outdoors_total}+@{use_wounds}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_outdoors_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-outdoors-exp"></span>
                                <span class="invisible-outdoors-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_outdoors_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_outdoors_attribute}}}}{{secondattribute=^{skill_outdoors}}}{{expertise=@{skill_outdoors_exp}}}{{dicepool=^{@{skill_outdoors_total_exp}}}}{{dice=[[(@{skill_outdoors_total}+@{use_wounds}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--piloting-->
                        <input class="toggle-hide-piloting" name="attr_skill_piloting_hide" type="checkbox" value="1"/>
                        <div class="table-row-piloting">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_piloting_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_piloting">piloting</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_piloting_base" value="-1" placeholder="-1" title="@{skill_piloting_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_piloting_modifier" value="0" placeholder="0" title="@{skill_piloting_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_piloting_attribute" value="int" title="@{skill_piloting_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction" selected>REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-piloting-spec" name="attr_skill_piloting_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-piloting-spec" type="text" name="attr_skill_piloting_spec" title="@{skill_piloting_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-piloting-exp" name="attr_skill_piloting_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-piloting-exp" type="text" name="attr_skill_piloting_exp" title="@{skill_piloting_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_piloting_total" value="@{skill_piloting_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_piloting_total_spec" value="@{skill_piloting_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_piloting_total_exp" value="@{skill_piloting_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_piloting_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_piloting_attribute}}}}{{secondattribute=^{skill_piloting}}}{{dicepool=^{@{skill_piloting_total}}}}{{dice=[[(@{skill_piloting_total}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_piloting_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-piloting-spec"></span>
                                <span class="invisible-piloting-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_piloting_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_piloting_attribute}}}}{{secondattribute=^{skill_piloting}}}{{specialisation=@{skill_piloting_spec}}}{{dicepool=^{@{skill_piloting_total_spec}}}}{{dice=[[(@{skill_piloting_total}+@{use_wounds}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_piloting_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-piloting-exp"></span>
                                <span class="invisible-piloting-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_piloting_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_piloting_attribute}}}}{{secondattribute=^{skill_piloting}}}{{expertise=@{skill_piloting_exp}}}{{dicepool=^{@{skill_piloting_total_exp}}}}{{dice=[[(@{skill_piloting_total}+@{use_wounds}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--con-->
                        <input class="toggle-hide-con" name="attr_skill_con_hide" type="checkbox" value="1"/>
                        <div class="table-row-con">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_con_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_con">con</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_con_base" value="-1" placeholder="-1" title="@{skill_con_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_con_modifier" value="0" placeholder="0" title="@{skill_con_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_con_attribute" value="int" title="@{skill_con_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma" selected>CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-con-spec" name="attr_skill_con_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-con-spec" type="text" name="attr_skill_con_spec" title="@{skill_con_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-con-exp" name="attr_skill_con_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-con-exp" type="text" name="attr_skill_con_exp" title="@{skill_con_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_con_total" value="@{skill_con_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_con_total_spec" value="@{skill_con_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_con_total_exp" value="@{skill_con_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_con_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_con_attribute}}}}{{secondattribute=^{skill_con}}}{{dicepool=^{@{skill_con_total}}}}{{dice=[[(@{skill_con_total}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_con_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-con-spec"></span>
                                <span class="invisible-con-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_con_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_con_attribute}}}}{{secondattribute=^{skill_con}}}{{specialisation=@{skill_con_spec}}}{{dicepool=^{@{skill_con_total_spec}}}}{{dice=[[(@{skill_con_total}+@{use_wounds}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_con_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-con-exp"></span>
                                <span class="invisible-con-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_con_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_con_attribute}}}}{{secondattribute=^{skill_con}}}{{expertise=@{skill_con_exp}}}{{dicepool=^{@{skill_con_total_exp}}}}{{dice=[[(@{skill_con_total}+@{use_wounds}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--perception-->
                        <input class="toggle-hide-perception" name="attr_skill_perception_hide" type="checkbox" value="1"/>
                        <div class="table-row-perception">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_perception_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_perception">perception</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_perception_base" value="-1" placeholder="-1" title="@{skill_perception_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_perception_modifier" value="0" placeholder="0" title="@{skill_perception_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_perception_attribute" value="int" title="@{skill_perception_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition" selected>INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-perception-spec" name="attr_skill_perception_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-perception-spec" type="text" name="attr_skill_perception_spec" title="@{skill_perception_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-perception-exp" name="attr_skill_perception_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-perception-exp" type="text" name="attr_skill_perception_exp" title="@{skill_perception_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_perception_total" value="@{skill_perception_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_perception_total_spec" value="@{skill_perception_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_perception_total_exp" value="@{skill_perception_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_perception_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_perception_attribute}}}}{{seperceptiondattribute=^{skill_perception}}}{{dicepool=^{@{skill_perception_total}}}}{{dice=[[(@{skill_perception_total}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_perception_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-perception-spec"></span>
                                <span class="invisible-perception-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_perception_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_perception_attribute}}}}{{seperceptiondattribute=^{skill_perception}}}{{specialisation=@{skill_perception_spec}}}{{dicepool=^{@{skill_perception_total_spec}}}}{{dice=[[(@{skill_perception_total}+@{use_wounds}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_perception_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-perception-exp"></span>
                                <span class="invisible-perception-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_perception_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_perception_attribute}}}}{{seperceptiondattribute=^{skill_perception}}}{{expertise=@{skill_perception_exp}}}{{dicepool=^{@{skill_perception_total_exp}}}}{{dice=[[(@{skill_perception_total}+@{use_wounds}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                    </div>
                </div>  
            </div>
        </div>
    </div>
    <div class='sheet-attacks'><br>
        <h4>Nahkampfwaffen</h4>
        <fieldset class="repeating_meleeweapons"> 
            <select class="meleetypedropdown" name="attr_mwskill"> 
                <option value="exotic" data-i18n="exotic">Exotische</option>
                <option value="unarmed" data-i18n="unarmed">Waffenlos</option>
                <option value="blades" data-i18n="blades">Klingen</option>
                <option value="clubs" data-i18n="clubs">Knüppel</option>
            </select>
            <input class="weaponname" type="text" name="attr_melee_name" /><br>
            <div class="hidebycomplexdamage">
                <div class="melee-textbox-medium">Schaden:</div>
            </div>
            <div class="melee-textbox-small">
                <input class="smallinput" type="number" name="attr_meleeweapondamage" value="2" placeholder="2" title="@{melee_damage_base}" min="1" max="15"/>
            </div>
            <div class="melee-textbox-large">Schadensart:</div>
            <div class="melee-textbox-small">
                <select class="damagetypedropdown" name="attr_mwtype">
                    <option value="phys" data-i18n="phys_short_shifted">körperlich</option>
                    <option value="stun" data-i18n="stun_short_shifted">geistig</option>
                    <option value="unown" data-i18n="unown_shifted">andere</option>
                </select>
            </div>
            <div class="melee-textbox-medium">Pool:</div>
            <div class="melee-textbox-small">
                <input class="smallinput" type="number" name="attr_melee_attack_pool" value="(@{skill_melee_total})" placeholder="2" title="@{melee_damage_base}" min="1" max="50"/>
            </div>
            <div class="melee-textbox-large">Angriffswert:</div>
            <div class="melee-textbox-small">
              <input class="smallinput" type="number" name="attr_melee_attack_rating" value="8" placeholder="8" title="@{melee_attack_rating}" min="1" max="50"/>
            </div>
            <div class="melee-rollbox">
                <button class="longbutton" type="roll" name="meleeweapon" value="@{gm_toggle} &{template:roll}{{mainattribute=^{skill_melee}}}{{specialisation=^{@{mwskill}}}}{{weaponname=@{melee_name}}}{{attackrating=[[@{melee_attack_rating}]]}}{{damage=[[@{meleeweapondamage}]]}}{{damagetype=^{@{mwtype}}}}{{dice=[[(@{melee_attack_pool}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                    <span class="red" data-i18n="attackroll">Angriffswurf</span>
                </button>
            </div>
        </fieldset><br>
        <h4>Fernkampfwaffen</h4>
        <fieldset class="repeating_rangeweapons">
            <select class="rangetypedropdown" name="attr_rwskill">
                <option value="exotic" data-i18n="exotic">Exotische</option>
                <option value="projectile" data-i18n="projectile">Projektilwaffen</option>
                <option value="thrown" data-i18n="thrown">Wurwaffen</option>
                <option value="taser" data-i18n="taser">Taser</option>
                <option value="holdout" data-i18n="holdout">Holdout-Pistolen</option>
                <option value="lightpistol" data-i18n="lightpistol">Leichte Pistolen</option>
                <option value="heavypistol" data-i18n="heavypistol">Schwere Pistolen</option>
                <option value="machinepistol" data-i18n="machinepistol">Automatikpistolen</option>
                <option value="submachinegun" data-i18n="submachinegun">Maschinenpistolen</option>
                <option value="shotgun" data-i18n="shotgun">Schrotflinten</option>
                <option value="assaultrifle" data-i18n="assaultrifle">Sturmgewehre</option>
                <option value="carbine" data-i18n="carbine">Karabiner</option>
                <option value="sportrifle" data-i18n="sportrifle">Sportgewehre</option>
                <option value="sniperrifle" data-i18n="sniperrifle">Scharfschützengewehre</option>
                <option value="machinegun" data-i18n="machinegun">Maschinengewehre</option>
                <option value="assaultcannon" data-i18n="assaultcannon">Sturmkanonen</option>
            </select>
            <input class="weaponname" type="text" name="attr_range_name" value="Name" />
            <div class="range-textbox-small">Pool:</div>
            <div class="range-textbox-small">
                <input class="smallinput" type="number" name="attr_range_attack_pool" value="(@{skill_range_total})" placeholder="2" title="@{range_damage_base}" min="1" max="50"/>
            </div>
            <div class="smallspacer">&nbsp;</div>
            <input class="toggle-hide-complex-damage" name="attr_rangehidecomplexdamage" type="checkbox" value="1"/>
            <span class="red" data-18n="complex_damage_options">komplexer Schaden</span>
            <div class="smallspacer">&nbsp;</div>
            <input class="toggle-hide-complex-ammo" name="attr_rangehidecomplexammo" type="checkbox" value="1"/>
            <span class="red" data-18n="complex_ammo_options">komplexe Munition</span>
            <input class="toggle-hide toggle-hide-both" name="attr_rangehideboth" type="checkbox" value="1"/>
            <div class="hidebyboth">
                <br>
            </div>
            <div class="hidebycomplexdamage inline">
                <div class="range-textbox-medium">Schaden:</div>
                <div class="range-textbox-small">
                    <input class="smallinput" type="number" name="attr_rangeweapondamage" value="2" placeholder="2" title="@{range_damage_base}" min="1" max="15"/>
                </div>
            </div>
            <input class="toggle-hide toggle-hide-both" name="attr_rangehideboth" type="checkbox" value="1"/>
            <div class="hidebyboth">
                <div class="range-textbox-large">Schadensart:</div>
                <div class="range-textbox-small">
                    <select class="damagetypedropdown" name="attr_rwtype">
                        <option value="phys" data-i18n="phys_short_shifted">körperlich</option>
                        <option value="stun" data-i18n="stun_short_shifted">geistig</option>
                        <option value="unown" data-i18n="unown_shifted">andere</option>
                    </select>
                </div>
            </div>
            <div class="hidebycomplexammo inline">
                <div class="range-textbox-colossal">Schadensmodifikator (Munition)</div>
                <div class="range-textbox-small">
                    <input class="smallinput" type="number" name="attr_ammodamagemodifier" value="0" placeholder="0" />
                </div>
            </div>
            <div class="hidebycomplexammo inline">
                <div class="range-textbox-colossal">Angriffswertmodifikator (Munition)</div>
                <div class="range-textbox-small">
                    <input class="smallinput" type="number" name="attr_ammoarmodifier" value="0" placeholder="0" />
                </div>
            </div>
            <br>

            <div class="range-textbox-medium">Munition:</div>
            <select class="ammotypedropdown" name="attr_ammotype">
                <option value="apds" data-i18n="ammo_apds">APDS-Munition</option>
                <option value="explosive" data-i18n="ammo_explosive">Explosivmunition</option>
                <option value="flechette" data-i18n="ammo_flechette">Flechettemunition</option>
                <option value="gel" data-i18n="ammo_gel">Gelmunition</option>
                <option value="precision" data-i18n="ammo_precision">Präzisionsmunition</option>
                <option value="revo" data-i18n="ammo_revo">REVO-Munition</option>
                <option value="selfmade" data-i18n="ammo_selfmade">selbst gemachte Munitiion</option>
                <option value="shocker" data-i18n="ammo_shocker">Schockermunition</option>
                <option value="standard" data-i18n="ammo_standard">Standardmunition</option>
                <option value="standard_ac" data-i18n="ammo_standardac">Sturmkanonenmunition</option>
            </select>
            <div class="range-textbox-large">
                <input class="smallinput" type="number" name="attr_current_ammo" value="0" placeholder="0" /> / 
                <input class="smallinput" type="number" name="attr_maximum_ammo" value="15" placeholder="15"/>
            </div>
            <select class="reloadtypdropdown" name="attr_reloadtyp">
                <option value="g" data-i18n="reload_g">Gurtmunition</option>
                <option value="i" data-i18n="reload_i">internes Magazin</option>
                <option value="k" data-i18n="reload_k">Klapplademechanismus</option>
                <option value="s" data-i18n="reload_s">Stangenmagazin</option>
                <option value="t" data-i18n="reload_t">Trommelmagazin</option>
                <option value="tr" data-i18n="reload_tr">Trommel, aufklappbar</option>
                <option value="v" data-i18n="reload_v">Vorderlader</option>
            </select>
            <div class="range-textbox-medium">
                <button class="bluebutton" type="action" name="act_reload" data-i18n="reload">
                    Nachladen
                </button>
            </div>
            <div class="unhidebyboth">
                <div class="smallspacer">&nbsp;</div>
                <div class="range-textbox-large">Schadensart:</div>
                <div class="range-textbox-small">
                    <select class="damagetypedropdown" name="attr_rwtype">
                        <option value="phys" data-i18n="phys_short_shifted">körperlich</option>
                        <option value="stun" data-i18n="stun_short_shifted">geistig</option>
                        <option value="unown" data-i18n="unown_shifted">andere</option>
                    </select>
                </div>
            </div>
            <br>
            <div class="range-textbox-huge">verfügbare Feuermodi</div>
            <select class="firemodedropdown" name="attr_firemode">
                <option value="0" data-i18n="em">nur EM</option>
                <option value="1" data-i18n="hm">HM</option>
                <option value="2" data-i18n="sm">SM</option>
                <option value="3" data-i18n="hmsm">HM/SM</option>
                <option value="4" data-i18n="am">AM</option>
                <option value="5" data-i18n="hmam">HM/AM</option>
                <option value="6" data-i18n="smam">SM/AM</option>
                <option value="7" data-i18n="hmsmam">HM/SM/AM</option>
            </select>
            <input class="hide smallinput" type="number" name="attr_firemode_ar_mod" value="0" placeholder="0" title="@{firemode_ar_mod}" min="-10" max="10" />
            <input class="hide smallinput" type="number" name="attr_firemode_dam_mod" value="0" placeholder="0" title="@{firemode_dam_mod}" min="-10" max="10" />
            <!--<input class="smallinput" type="number" name="attr_firemode_num" value="@{repeating_rangeweapons:firemode}" placeholder="-1" title="@{range_firemode}" min="0" max="7" />-->
            <div class="range-textbox-huge">Feuermodus wählen:</div>
            <input class="toggle-hide-em" name="attr_em_visibility" type="checkbox" value="1"/>
            <div class="radio-em-visible">
                <span class="em-visible"></span>
                <span class="em-invisible">
                    <input type="checkbox" id="EM" name="attr_firemodeem" value="1" />
                    <span class="red" data-i8n="em">EM</span>
                </span>
            </div>
            <input class="toggle-hide-hm" name="attr_hm_visibility" type="checkbox" value="1"/>
            <div class="radio-hm-visible">
                <span class="hm-visible"></span>
                <span class="hm-invisible">
                    <input type="checkbox" name="attr_firemodehm" value="1" />
                    <span class="red" data-i18n="hm">HM</span>
                </span>
            </div>
            <input class="toggle-hide-sm" name="attr_sm_visibility" type="checkbox" value="1"/>
            <div class="radio-sm-visible">
                <span class="sm-visible"></span>
                <span class="sm-invisible">
                    <input type="checkbox" name="attr_firemodesm" value="1" />
                    <span class="red" data-i18n="sm">SM</span>
                </span>
            </div>
            <input class="toggle-hide-am" name="attr_am_visibility" type="checkbox" value="1"/>
            <div class="radio-am-visible">
                <span class="am-visible"></span>
                <span class="am-invisible">
                    <input type="checkbox" name="attr_firemodeam" value="1" />
                    <span class="red" data-i18n="am">AM</span>
                </span>
            </div>
            <input class="toggle-hide" type="text" name="attr_firemode_name" value="Name" />
            <div class="range-table">
                <div class="range-ranges-row">
                    <div class="range-textbox-huge">
                        Reichweiten (Meter)
                    </div>
                    <div class="range-textbox-huge-center">
                        0 - 3
                    </div>
                    <div class="range-textbox-huge-center">
                        4 - 50
                    </div>
                    <div class="range-textbox-huge-center">
                        51 - 250
                    </div>
                    <div class="range-textbox-huge-center">
                        250 - 500
                    </div>
                    <div class="range-textbox-huge-center">
                        501+
                    </div>
                </div>
                <div class="range-ranges-row">
                    <div class="range-textbox-huge">
                        Angriffswert
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_attack_rating_vclose" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_attack_rating_close" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_attack_rating_medium" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_attack_rating_long" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_attack_rating_vlong" value="0" placeholder="0"/>
                    </div>
                </div>
                <input class="toggle-hide toggle-hide-complex-ammo" name="attr_rangehidecomplexammo" type="checkbox" value="1"/>
                <div class="range-ranges-row-ammo">
                    <div class="range-textbox-huge">
                        > Modifikator (Munition)
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_arvclosemod" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_arclosemod" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_armediummod" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_arlongmod" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_arvlongmod" value="0" placeholder="0"/>
                    </div>
                </div>
                <input class="toggle-hide  toggle-hide-complex-damage" name="attr_rangehidecomplexdamage" type="checkbox" value="1"/>
                <div class="range-ranges-row-damage">
                    <div class="range-textbox-huge">
                        Schaden
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damage_vclose" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damage_close" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damage_medium" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damage_long" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damage_vlong" value="0" placeholder="0"/>
                    </div>
                </div>
                <div class="range-ranges-row-ammo range-ranges-row-damage">
                    <div class="range-textbox-huge">
                        > Schaden (Munition)
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damagevclosemod" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damageclosemod" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damagemediummod" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damagelongmod" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damagevlongmod" value="0" placeholder="0"/>
                    </div>
                </div>
                <div class="range-ranges-row">
                    <div class="range-textbox-huge">
                        Angriffswurf
                    </div>
                    <div class="range-textbox-huge-center">
                        <button class="rangebutton" type="roll" name="rangeweapon" value="@{gm_toggle} &{template:roll}{{mainattribute=^{skill_range}}}{{specialisation=^{@{rwskill}}}}{{weaponname=@{range_name}}}{{range=^{range_vclose}}}{{firemode=^{@{firemode_name}}}}{{attackrating=[[@{attack_rating_vclose}+@{arvclosemod}+@{firemode_ar_mod}]]}}{{damage=[[@{damage_vclose}+@{damagevclosemod}+@{firemode_dam_mod}]]}}{{damagetype=^{@{rwtype}}}}{{dicepool=^{@{range_attack_pool}}}}{{dice=[[(@{range_attack_pool}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                            <span class="red" data-i18n="attackroll">sehr nah</span>
                        </button>
                    </div>
                    <div class="range-textbox-huge-center">
                        <button class="rangebutton" type="roll" name="rangeweapon" value="@{gm_toggle} &{template:roll}{{mainattribute=^{skill_range}}}{{specialisation=^{@{rwskill}}}}{{weaponname=@{range_name}}}{{range=^{range_close}}}{{firemode=^{@{firemode_name}}}}{{attackrating=[[@{attack_rating_close}+@{arclosemod}+@{firemode_ar_mod}]]}}{{damage=[[@{damage_close}+@{damageclosemod}+@{firemode_dam_mod}]]}}{{damagetype=^{@{rwtype}}}}{{dicepool=^{@{range_attack_pool}}}}{{dice=[[(@{range_attack_pool}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                            <span class="red" data-i18n="attackroll">sehr nah</span>
                        </button>
                    </div>
                    <div class="range-textbox-huge-center">
                        <button class="rangebutton" type="roll" name="rangeweapon" value="@{gm_toggle} &{template:roll}{{mainattribute=^{skill_range}}}{{specialisation=^{@{rwskill}}}}{{weaponname=@{range_name}}}{{range=^{range_medium}}}{{firemode=^{@{firemode_name}}}}{{attackrating=[[@{attack_rating_medium}+@{armediummod}+@{firemode_ar_mod}]]}}{{damage=[[@{damage_medium}+@{damagemediummod}+@{firemode_dam_mod}]]}}{{damagetype=^{@{rwtype}}}}{{dicepool=^{@{range_attack_pool}}}}{{dice=[[(@{range_attack_pool}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                            <span class="red" data-i18n="attackroll">sehr nah</span>
                        </button>
                    </div>
                    <div class="range-textbox-huge-center">
                        <button class="rangebutton" type="roll" name="rangeweapon" value="@{gm_toggle} &{template:roll}{{mainattribute=^{skill_range}}}{{specialisation=^{@{rwskill}}}}{{weaponname=@{range_name}}}{{range=^{range_long}}}{{firemode=^{@{firemode_name}}}}{{attackrating=[[@{attack_rating_long}+@{arlongmod}+@{firemode_ar_mod}]]}}{{damage=[[@{damage_long}+@{damagelongmod}+@{firemode_dam_mod}]]}}{{damagetype=^{@{rwtype}}}}{{dicepool=^{@{range_attack_pool}}}}{{dice=[[(@{range_attack_pool}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                            <span class="red" data-i18n="attackroll">sehr nah</span>
                        </button>
                    </div>
                    <div class="range-textbox-huge-center">
                        <button class="rangebutton" type="roll" name="rangeweapon" value="@{gm_toggle} &{template:roll}{{mainattribute=^{skill_range}}}{{specialisation=^{@{rwskill}}}}{{weaponname=@{range_name}}}{{range=^{range_vlong}}}{{firemode=^{@{firemode_name}}}}{{attackrating=[[@{attack_rating_vlong}+@{arvlongmod}+@{firemode_ar_mod}]]}}{{damage=[[@{damage_vlong}+@{damagevlongmod}+@{firemode_dam_mod}]]}}{{damagetype=^{@{rwtype}}}}{{dicepool=^{@{range_attack_pool}}}}{{dice=[[(@{range_attack_pool}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                            <span class="red" data-i18n="attackroll">sehr nah</span>
                        </button>
                    </div>
                </div>
            </div>
        </fieldset>
    </div>
    <div class='sheet-magic'>
        <br>
        <h6>Magie</h6>
        <input class="smallinput" type="number" name="attr_display_magic" value="0" placeholder="0" title="magic_value" min="0"/>
        <div class="smallspacer">&nbsp;</div>
        <h6>Initiatengrad</h6>
        <input class="smallinput" type="number" name="attr_display_inigrade" value="0" placeholder="0" title="initiate_grade" min="0"/>
        <div class="smallspacer">&nbsp;</div>
        <input class="toggle-hide-not" name="attr_adept_power_hide" type="checkbox" value="1"/>
        <div class="inline magicsection">
            <h6>Kraftpunkte</h6>
            <input class="smallinput" type="number" name="attr_display_powerpoints" value="0" placeholder="0" title="initiate_grade" min="0"/>
        </div>
        <br>
        <input class="toggle-hide-not" name="attr_magic_skill_hide" type="checkbox" value="1"/>
        <div class="inline magicsection">
            <div class="magic-table">
                <div class="table-row">
                    <div class="table-fullrow">
                        <div class="table-cell-quarter">
                            <h4 data-i18n="skills">Fertigkeiten</h4>
                        </div>
                        <div class="table-cell-threequarter">
                            <button type="action" name="act_reset_skill_visibility">
                                alle Fertigkeiten sichtbar machen
                            </button>
                            <button type="action" name="act_hide_unused_skills">
                                Fertigkeiten ohne Punkte ausblenden
                            </button>
                            <button type="action" name="act_reset_skill_values">
                                Fertigkeiten zurücksetzen
                            </button>
                        </div>
                    </div>
                </div>
                <div class="table-row">
                    <div class="table-fullrow">
                        <div class="table-cell-full">
                            <div class="innertable">
                                <div class="table-row">
                                    <div class="table-cell-skill-hide"><span class="red" data-i18n="hide">Verbergen</span></div>
                                    <div class="table-cell-skill-level"><span class="red" data-i18n="skill_level">Stufe</span></div>
                                    <div class="table-cell-skill-mod"><span class="red" data-i18n="skill_modifier">Mod</span></div>
                                    <div class="table-cell-skill-attribute"><span class="red" data-i18n="skill_attribute">Attribut</span></div>
                                    <div class="table-cell-skill-spec"><span class="red" data-i18n="specialisation">Spezialisierung</span></div>
                                    <div class="table-cell-skill-exp"><span class="red" data-i18n="expertise">Expertise</span></div>
                                    <div class="table-cell-skill-total"><span class="red" data-i18n="total">Gesamt</span></div>
                                    <div class="table-cell-skill-rolls">&nbsp;</div>
                                    <div class="table-cell-skill-rolls"><span class="red" data-i18n="rolls">Würfe</span></div>
                                    <div class="table-cell-skill-rolls">&nbsp;</div>
                                    
                                </div>
                                <!--Astral-->
                                <input class="toggle-hide-astral" name="attr_skill_astral_hide" type="checkbox" value="1"/>
                                <div class="table-row-astral">
                                    <div class="table-cell-skill-name">
                                        <input name="attr_skill_astral_hide" type="checkbox" value="1"/>
                                        <span class="red" data-i18n="skill_astral">Astral</span>
                                    </div>
                                    <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_astral_base" value="-1" placeholder="-1" title="@{skill_astral_base}" min="-1" max="10"/></div>
                                    <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_astral_modifier" value="0" placeholder="0" title="@{skill_astral_modifier}" max="4"/> </div>
                                    <div class="table-cell-skill-attribute">
                                        <select class="attributedropdown" name="attr_skill_astral_attribute" value="int" title="skill_astral_attribute"> 
                                            <option value="display_body" data-i18n="body">KON</option>
                                            <option value="display_agility" data-i18n="agility">GES</option>
                                            <option value="display_reaction" data-i18n="reaction">REA</option>
                                            <option value="display_strength" data-i18n="strength">STÄ</option>
                                            <option value="display_willpower" data-i18n="willpower">WIL</option>
                                            <option value="display_logic" data-i18n="logic">LOG</option>
                                            <option value="display_intuition" data-i18n="intuition" selected>INT</option>
                                            <option value="display_charisma" data-i18n="charisma">CHA</option>
                                        </select>
                                    </div>
                                    <div class="table-cell-skill-spec">
                                        <input class="toggle-hide-astral-spec" name="attr_skill_astral_spec_visibility" type="checkbox" value="1"/>
                                        <input class="input-astral-spec" type="text" name="attr_skill_astral_spec" title="@{skill_astral_spec}"/>
                                    </div>
                                    <div class="table-cell-skill-exp">
                                        <input class="toggle-hide-astral-exp" name="attr_skill_astral_exp_visibility" type="checkbox" value="1"/>
                                        <input class="input-astral-exp" type="text" name="attr_skill_astral_exp" title="@{skill_astral_exp}"/>
                                    </div>
                                    <div class="table-cell-skill-total">
                                        <input class="smallinput" type="number" name="attr_skill_astral_total" value="@{skill_astral_attribute}" placeholder="0" readonly/>
                                        <input class="smallinput" type="hidden" name="attr_skill_astral_total_spec" value="@{skill_astral_total}+2" placeholder="0" readonly/>
                                        <input class="smallinput" type="hidden" name="attr_skill_astral_total_exp" value="@{skill_astral_total}+3" placeholder="0" readonly/>
                                    </div>
                                    <div class="table-cell-skill-rolls">
                                        <button class="widesmallbutton" type="roll" name="@{skill_astral_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_astral_attribute}}}}{{secondattribute=^{skill_astral}}}{{dicepool=^{@{skill_astral_total}+@{use_wounds}}}}{{dice=[[(@{skill_astral_total}+@{use_wounds}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                            <span class="red" data-i18n="skill_short">Skill</span>
                                        </button>
                                    </div>
                                    <div class="table-cell-skill-rolls">
                                        <input class="toggle-hide" name="attr_skill_astral_spec_roll_visibility" type="checkbox" value="1"/>
                                        <span class="visible-astral-spec"></span>
                                        <span class="invisible-astral-spec">
                                            <button class="widesmallbutton" type="roll" name="@{skill_astral_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_astral_attribute}}}}{{secondattribute=^{skill_astral}}}{{specialisation=@{skill_astral_spec}}}{{dicepool=^{@{skill_astral_total_spec}+@{use_wounds}}}}{{dice=[[(@{skill_astral_total}+@{use_wounds}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                                <span class="red" data-18n="spec_short">Spez.</span>
                                            </button>
                                        </span>
                                    </div>
                                    <div class="table-cell-skill-rolls">
                                        <input class="toggle-hide" name="attr_skill_astral_exp_roll_visibility" type="checkbox" value="1"/>
                                        <span class="visible-astral-exp"></span>
                                        <span class="invisible-astral-exp">
                                            <button class="widesmallbutton" type="roll" name="@{skill_astral_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_astral_attribute}}}}{{secondattribute=^{skill_astral}}}{{expertise=@{skill_astral_exp}}}{{dicepool=^{@{skill_astral_total_exp}+@{use_wounds}}}}{{dice=[[(@{skill_astral_total}+@{use_wounds}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                                <span class="red" data-18n="exp_short">Exp.</span>
                                            </button>
                                        </span>
                                    </div>
                                </div><!--End of skill-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div><br>
        <input class="toggle-hide-not" name="attr_adept_power_hide" type="checkbox" value="1"/>
        <div class="inline magicsection">
            adept power inside
        </div><br>
        <input class="toggle-hide-not" name="attr_conjuring_hide" type="checkbox" value="1"/>
        <div class="inline magicsection">
            conjuring inside + current spirits
        </div><br>
        <input class="toggle-hide-not" name="attr_spell_hide" type="checkbox" value="1"/>
        <div class="inline magicsection">
            spells inside
        </div><br>
        <input class="toggle-hide-not" name="attr_rituals_hide" type="checkbox" value="1"/>
        <div class="inline magicsection">
            rituals inside
        </div><br>
        <input class="toggle-hide-not" name="attr_alchemy_hide" type="checkbox" value="1"/>
        <div class="inline magicsection">
            alchemy inside
        </div><br>
        <input class="toggle-hide-not" name="attr_craft_focus_hide" type="checkbox" value="1"/>
        <div class="inline magicsection">
            focus crafting inside
        </div><br><br>
        Bitte wähle relevante Bereiche aus:<br>
        <input class="toggle-hide-not" name="attr_magic_skill_hide" type="checkbox" value="1"/> Magische Fertigkeiten
        <input class="toggle-hide-not" name="attr_adept_power_hide" type="checkbox" value="1"/> Adeptenkräfte
        <input class="toggle-hide-not" name="attr_conjuring_hide" type="checkbox" value="1"/> Beschwören
        <input class="toggle-hide-not" name="attr_spell_hide" type="checkbox" value="1"/> Zauber
        <input class="toggle-hide-not" name="attr_rituals_hide" type="checkbox" value="1"/> Rituale
        <input class="toggle-hide-not" name="attr_alchemy_hide" type="checkbox" value="1"/> Alchemie
        <input class="toggle-hide-not" name="attr_craft_focus_hide" type="checkbox" value="1"/> Fokusbau
    </div>
    <div class='sheet-matrix'>
        <h2>Matrix</h2>
        Angriff
        <input class="smallinput" type="number" name="attr_display_angriff" value="0" placeholder="0" title="@{at_base}" min="0" max="15"/>
        Schleicher
        <input class="smallinput" type="number" name="attr_display_schleicher" value="0" placeholder="0" title="@{sl_base}" min="0" max="15"/>
        Datenverarbeitung
        <input class="smallinput" type="number" name="attr_display_datenverarbeitung" value="0" placeholder="0" title="@{dv_base}" min="0" max="15"/>
        Firewall
        <input class="smallinput" type="number" name="attr_display_firewall" value="0" placeholder="0" title="@{fw_base}" min="0" max="15"/>
    </div>
    <div class='sheet-rigging'><h2>Rigging</h2></div>
    <div class='sheet-contacts'><h2>Contacts</h2></div>
    <div class='sheet-gear'><h2>Gear</h2></div>
    <div class='sheet-notes'><h2>Notes</h2></div>
    <div class='sheet-config'><br><br>
        <label class="switch" data-i18n-title="gm_whisper" title="GM-Roll y/n">
            <input name="attr_gm_toggle" type="checkbox" value"/w gm"/>
            <span class="slider">&nbsp;</span>
        </label><br>
        <!--<label class="switch" data-i18n-title="wounds" title="wounds">
            <input name="attr_wounds_toggle" type="checkbox" value="@{wounds}"/>
            <span class="slider">Wundmodifikatoren berücksichtigen</span>
        </label><br>
        <label class="switch" data-i18n-title="modifiers" title="modifiers">
            <input name="attr_modifiers_toggle" type="checkbox" value="?{Modifiers +/-|0}"/> 
            <span class="slider">immer übertakten</span>
        </label><br>
        <label class="switch" data-i18n-title="edge" title="edge">
            <input name="attr_edge_toggle" type="checkbox" value="@{edge}"/>
            <span class="slider">Edge zum Pool addieren</span>
        </label><br>
        <label class="switch" data-i18n-title="explode" title="explode">
            <input name="attr_explode_toggle" type="checkbox" value="@{explode}"/>
            <span class="slider">explodierende Würfel</span>
        </label><br>
            <label class="switch" data-i18n-title="modifiers" title="modifiers">
      <input class="whisper-toggle" name="attr_modifiers_toggle" type="checkbox" value="?{Modifiers +/-|0}"/><span class="slider"></span>
    </label><br>-->
    </div>
</div>
<!-- to do: toggle Wunden, Mods, explodierende Würfel ... Benennung der Fenster ... Unglück-->

<!-- Aufbau des Templates:
&{tracker}
Head: Skill/Attribut (optional: + zweites Attribut)(optional: Spezialisierung/Expertise)
Body: (optional: Angriffswert)
Body: (optional: Feuermodus)
Body: (optional: Verteidigungswert)
Body: (optional: Entzug) --> 
<!-- weiteres Template: Waffenname, AR, optional Reichweite, optional Munitionsverbrauch -->
<!-- was meint base? -> Recherche-->
<rolltemplate class="sheet-rolltemplate-roll">
    <div class="sheet-template-container">
    	<div class="sheet-template-header">
    	    {{#mainattribute}}{{mainattribute}}{{/mainattribute}}
    	    {{#secondattribute}}+ {{secondattribute}}{{/secondattribute}}
    	    {{#specialisation}} [{{specialisation}}]{{/specialisation}}
    	    {{#expertise}} [{{expertise}}]{{/expertise}}
    	</div>
    	{{#weaponname}}
        	<div class="sheet-template-row">
        	    <div class="sheet-sub-headline">
        	        {{weaponname}}
        	    </div>
        	    {{#firemode}}
        	        {{#range}}
        	        <br>
        	        <div class="sheet-small-black-text">
        	            ({{range}}, {{firemode}})
        	        </div>
        	        {{/range}}
        	    {{/firemode}}
        	</div>
    	{{/weaponname}}
    	{{#attackrating}}
    	    <div class="sheet-template-row">
    	        {{attackrating}} Angriffswert
    	    </div>
    	{{/attackrating}}
    	{{#defenserating}}
    	    <div class="sheet-template-row">
    	        {{defenserating}} Verteidigungswert
    	    </div>
    	{{/defenserating}}
    	{{#soaksuccess}}
    	    <div class="sheet-template-row">
    	        {{soaksuccess}} Autoerfolge
    	    </div>
    	{{/soaksuccess}}
    	{{#damage}}
    	    <div class="sheet-template-row">
    	        {{damage}} Schaden {{#damagetype}}({{damagetype}}){{/damagetype}}
    	    </div>
    	{{/damage}}
    	<div class="sheet-template-row">
    	    {{#dice}}{{dice}} Erfolge {{/dice}}
    	    {{#dicepool}} ({{dicepool}}){{/dicepool}}
    	</div>
    </div>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-initiative">
    <div class="sheet-template-container">
    	<div class="sheet-template-header">
	        {{#mainattribute}}{{mainattribute}}{{/mainattribute}}: {{#dice}}{{dice}}{{/dice}}
    	</div>
    </div>
</rolltemplate>
<!-- ---------------------------SHEET WORKERS----------------- -->

<script type="text/worker">
    const buttonlist = ["copyright","chardata","attributes","skills","attacks","magic","matrix","rigging","contacts","gear","notes","configuration"];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                sheetTab: button
            });
        })
    });
    
    //Da Roll20 for-Schleifen außerhalb von Funktionen bei Systemstart initialisiert, scheint es nicht anders zu gehen
    const stunmonitor = ["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18"];
    stunmonitor.forEach(stuncheckbox => {
        on(`clicked:stun_toggle_${stuncheckbox}`, function(){
            getAttrs([`stun_${stuncheckbox}`], function(v){
                let checkstate=v[`stun_${stuncheckbox}`]!=="unchecked"?"unchecked":"checked";
                for(var checkedBoxes = 1; checkedBoxes < stuncheckbox; checkedBoxes++){
                    setAttrs({
                        [`stun_${checkedBoxes}`]: "checked",
                    })
                }
                for(var uncheckedBoxes = stuncheckbox; uncheckedBoxes < 19; uncheckedBoxes++){
                    setAttrs({[`stun_${uncheckedBoxes}`]: "unchecked",})
                }
                if(checkstate == "checked"){
                    setAttrs({
                        [`stun_${stuncheckbox}`]: "checked",
                        "wounds_stun_base": -Math.floor(stuncheckbox/3),
                    })
                } else {
                    setAttrs({"wounds_stun_base": -Math.floor((stuncheckbox-1)/3),})
                }
            })
        })
    })
    const physmonitor = ["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"];
    physmonitor.forEach(physcheckbox => {
        on(`clicked:phys_toggle_${physcheckbox}`, function(){
            getAttrs([`phys_${physcheckbox}`], function(v){
                let checkstate=v[`phys_${physcheckbox}`]!=="unchecked"?"unchecked":"checked";
                for(var checkedBoxes = 1; checkedBoxes < physcheckbox; checkedBoxes++){
                    setAttrs({
                        [`phys_${checkedBoxes}`]: "checked",
                    })
                }
                for(var uncheckedBoxes = physcheckbox; uncheckedBoxes < 20; uncheckedBoxes++){
                    setAttrs({[`phys_${uncheckedBoxes}`]: "unchecked",})
                }
                if(checkstate == "checked"){
                    setAttrs({
                        [`phys_${physcheckbox}`]: "checked",
                        "wounds_phys_base": -Math.floor(physcheckbox/3),
                    })
                } else {
                    setAttrs({"wounds_phys_base": -Math.floor((physcheckbox-1)/3),})
                }
            })
        })
    })
    on("change:wounds_stun_base change:wounds_phys_base change:wounds_mod", function(){
        getAttrs(["wounds_stun_base","wounds_phys_base","wounds_mod"], function(v){
            setAttrs({wounds_total: +v.wounds_stun_base+ +v.wounds_phys_base+ +v.wounds_mod})
        })
    })
    
    //Handlungsverwaltung
    on("change:minor_action_count", function(){
        getAttrs(["minor_action_count"], function(v){
            let mac = v.minor_action_count;
            if(mac <= 2){
                setAttrs({
                    "minor_action_count":2,"major_1_show":1,"major_2_show":0,
                    "minor_1_show":1,"minor_2_show":1,"minor_3_show":0,"minor_4_show":0,"minor_5_show":0,
                })
            }
            if(mac == 3){
                setAttrs({
                    "minor_action_count":3,"major_1_show":1,"major_2_show":0,
                    "minor_1_show":1,"minor_2_show":1,"minor_3_show":1,"minor_4_show":0,"minor_5_show":0,
                })
            }
            if(mac == 4){
                setAttrs({
                    "minor_action_count":4,"major_1_show":1,"major_2_show":1,
                    "minor_1_show":1,"minor_2_show":1,"minor_3_show":1,"minor_4_show":1,"minor_5_show":0,
                })
            }
            if(mac >= 5){
                setAttrs({
                    "minor_action_count":5,"major_1_show":1,"major_2_show":1,
                    "minor_1_show":1,"minor_2_show":1,"minor_3_show":1,"minor_4_show":1,"minor_5_show":1,
                })
            }
        })
    })
    const actions = ["major_1","major_2","minor_1","minor_2","minor_3","minor_4","minor_5"]; //major_1_toggle
    actions.forEach(action => {
        console.log("#1");
        on(`clicked:${action}_toggle`, function(){ //one-way-toggle does not need getAttrs
            console.log("#2");
            setAttrs({
                [`${action}`]: "struck",
            })
        })
    })
    on("clicked:reset_action_count", function(){
        setAttrs({
            "major_1": "unstruck","major_2": "unstruck",
            "minor_1": "unstruck","minor_2": "unstruck","minor_3": "unstruck","minor_4": "unstruck","minor_5": "unstruck",
        })
    })
    
    //Edge Management
    on("clicked:edge_plus_two", function(){getAttrs(["edge_current"], function(v){setAttrs({edge_current: Math.min(7,+v.edge_current+2),})})})
    on("clicked:edge_plus_one", function(){getAttrs(["edge_current"], function(v){setAttrs({edge_current: Math.min(7,+v.edge_current+1),})})})
    on("clicked:edge_minus_one", function(){getAttrs(["edge_current"], function(v){setAttrs({edge_current: Math.max(0,+v.edge_current-1),})})})
    on("clicked:edge_minus_two", function(){getAttrs(["edge_current"], function(v){setAttrs({edge_current: Math.max(0,+v.edge_current-2),})})})
    on("clicked:edge_minus_three", function(){getAttrs(["edge_current"], function(v){setAttrs({edge_current: Math.max(0,+v.edge_current-3),})})})
    on("clicked:edge_minus_four", function(){getAttrs(["edge_current"], function(v){setAttrs({edge_current: Math.max(0,+v.edge_current-4),})})})
    on("clicked:edge_minus_five", function(){getAttrs(["edge_current"], function(v){setAttrs({edge_current: Math.max(0,+v.edge_current-5),})})})
    on("change:edge_current", function(){ 
        getAttrs(["edge_current"], function(v){
            for(var i=v.edge_current; i<8; i++){
                setAttrs({
                    [`edge_${i}`]:1,
                })
            }
            for(var i=1;i <= v.edge_current;i++){
                setAttrs({
                    [`edge_${i}`]:0,
                })
            }
        })
    })
    on("clicked:edge_reset", () => {
        getAttrs(["display_edge","edge_current"], (v) => {
            if(v.edge_current > v.display_edge){
                setAttrs({
                    edge_current: v.display_edge,
                })
            }
        })
    })
    
    //exploding dice
    on("change:explode_toggle", function(){
        getAttrs(["explode_toggle"], function(v){
            let edge = (v.explode_toggle != 0) ? "!" : "";
            console.log(edge);
            setAttrs({
                exploding_dice: edge,
            })
        })
    })
    
    const attributes = ["body","agility","reaction","strength","willpower","logic","intuition","charisma","edge","magic","resonance","composure","judgeintent","memory","liftcarry","ini","inidice","iniphys","inimatrix","iniastral"];
    attributes.forEach(attribute => {
        on(`change:${attribute}_base change:${attribute}_modifier`, function(){
            getAttrs([`${attribute}_base`,`${attribute}_modifier`], function(v){
                console.log(attribute +" "+ v[`${attribute}_base`] +" "+ v[`${attribute}_modifier`])
                setAttrs({
                    [`display_${attribute}`]: +v[`${attribute}_base`] + +v[`${attribute}_modifier`],
                    inidice_base:       1,
                }) //no switches?!
                if(attribute == "body"){
                    console.log("working on: "+attribute);
                    getAttrs(["display_willpower"], function(val){
                        setAttrs({
                            liftcarry_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_willpower,
                        })  
                    })
                    var physmonitorsize = 8 + Math.ceil((+v[`${attribute}_base`] + +v[`${attribute}_modifier`])/2);
                    console.log(physmonitorsize);
                    for(var a = 1; a <= physmonitorsize; a++){setAttrs({[`phys_${a}_hide`]: 0,})}
                    for(var i = physmonitorsize+1; i < 20; i++){setAttrs({[`phys_${i}_hide`]: 1,[`phys_${i}`]: "unchecked",})}
                }
                if(attribute == "agility"){console.log("working on: "+attribute);}
                if(attribute == "reaction"){
                    console.log("working on: "+attribute);
                    getAttrs(["display_intuition"], function(val){
                        setAttrs({
                            ini_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_intuition,
                            iniphys_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_intuition,
                        })  
                    })
                }
                if(attribute == "strength"){console.log("working on: "+attribute);}
                if(attribute == "willpower"){
                    console.log("working on: "+attribute);
                    getAttrs(["display_body","display_intuition","display_charisma"], function(val){
                        setAttrs({
                            liftcarry_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_body,
                            judgeintent_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_intuition,
                            composure_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_charisma,
                        })  
                    })
                    var stunmonitorsize = 8 + Math.ceil((+v[`${attribute}_base`] + +v[`${attribute}_modifier`])/2);
                    console.log(stunmonitorsize);
                    for(var a = 1; a <= stunmonitorsize; a++){setAttrs({[`stun_${a}_hide`]: 0,})}
                    for(var i = stunmonitorsize+1; i < 19; i++){setAttrs({[`stun_${i}_hide`]: 1,[`stun_${i}`]: "unchecked",})}
                }
                if(attribute == "logic"){
                    console.log("working on: "+attribute);
                    getAttrs(["display_intuition"], function(val){
                        setAttrs({
                            iniastral_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_intuition,
                            memory_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_intuition,
                        })  
                    })
                }
                if(attribute == "intuition"){
                    console.log("working on: "+attribute);
                    getAttrs(["display_reaction","display_willpower","display_logic","display_datenverarbeitung"], function(val){
                        setAttrs({
                            composure_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_willpower,
                            ini_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_reaction,
                            iniastral_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_logic,
                            inimatrix_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_datenverarbeitung,
                            iniphys_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_reaction,
                            memory_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_logic,
                        })  
                    })
                }
                if(attribute == "charisma"){
                    console.log("working on: "+attribute);
                    getAttrs(["display_willpower"], function(val){
                        setAttrs({
                            composure_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_willpower,
                        })  
                    })
                }
                if(attribute == "edge"){console.log("working on: "+attribute);}
                if(attribute == "magic"){console.log("working on: "+attribute);}
                if(attribute == "resonance"){console.log("working on: "+attribute);}
            })
        })
    })
    
    //Fertigkeitspools
    const skills = ["athletics","influence","electronics","firearms","stealth","engineering","melee","outdoors","piloting","con","perception","astral","biotech","conjuring","cracking","exoticweapons","sorcery","tasking","enchanting"];
    skills.forEach(skill => {
        on(`change:skill_${skill}_base change:skill_${skill}_modifier change:skill_${skill}_attribute`, function(){
            getAttrs([`skill_${skill}_base`,`skill_${skill}_modifier`,`skill_${skill}_attribute`], function(v){
                getAttrs([skill_attribute = v[`skill_${skill}_attribute`]], function(val){
                    console.log(skill +" -> "+ v[`skill_${skill}_attribute`] +"="+ val[skill_attribute] +" + skill="+ v[`skill_${skill}_base`] + " + mod="+ v[`skill_${skill}_modifier`]);
                    if(v[`skill_${skill}_base`] > 4) {
                        setAttrs({
                            [`skill_${skill}_exp_visibility`]:1,
                            //no change for expertise entry
                            [`skill_${skill}_total_exp`]: +val[skill_attribute]+ +v[`skill_${skill}_base`]+ +v[`skill_${skill}_modifier`]+3,
                            [`skill_${skill}_spec_visibility`]:1,
                            //no change for specialisation entry
                            [`skill_${skill}_total_spec`]: +val[skill_attribute]+ +v[`skill_${skill}_base`]+ +v[`skill_${skill}_modifier`]+2,
                            [`skill_${skill}_total`]: +val[skill_attribute]+ +v[`skill_${skill}_base`]+ +v[`skill_${skill}_modifier`],
                        })
                    }
                    if(v[`skill_${skill}_base`] > 0 && v[`skill_${skill}_base`] < 5){
                        setAttrs({
                            [`skill_${skill}_exp_visibility`]:0,
                            [`skill_${skill}_exp`]:"",
                            [`skill_${skill}_total_exp`]:0,
                            [`skill_${skill}_spec_visibility`]:1,
                            //no change for specialisation entry
                            [`skill_${skill}_total_spec`]: +val[skill_attribute]+ +v[`skill_${skill}_base`]+ +v[`skill_${skill}_modifier`]+2,
                            [`skill_${skill}_total`]: +val[skill_attribute]+ +v[`skill_${skill}_base`]+ +v[`skill_${skill}_modifier`],
                        })
                        
                    }
                    if(skill == "astral" || skill == "biotech" || skill == "exoticweapons" || skill == "sorcery" || skill == "tasking" || skill == enchanting){
                        if(v[`skill_${skill}_base`] < 1){
                            setAttrs({
                                [`skill_${skill}_exp_visibility`]:0,
                                [`skill_${skill}_exp`]:"",
                                [`skill_${skill}_total_exp`]:0,
                                [`skill_${skill}_spec_visibility`]:0,
                                [`skill_${skill}_spec`]:"",
                                [`skill_${skill}_total_spec`]: 0,
                                [`skill_${skill}_total`]: 0,
                                [`skill_${skill}_base`]: -1,
                            })
                        }
                    } else {
                        if(v[`skill_${skill}_base`] < 1) {
                            setAttrs({
                                [`skill_${skill}_exp_visibility`]:0,
                                [`skill_${skill}_exp`]:"",
                                [`skill_${skill}_total_exp`]:0,
                                [`skill_${skill}_spec_visibility`]:0,
                                [`skill_${skill}_spec`]:"",
                                [`skill_${skill}_total_spec`]: 0,
                                [`skill_${skill}_total`]: +val[skill_attribute]+ +v[`skill_${skill}_base`]+ +v[`skill_${skill}_modifier`],
                                [`skill_${skill}_base`]: -1,
                            })
                        }
                    }
                })
            })
        })
    })
    
    //Ausblenden von Rolls ohne Spez und Exp
    skills.forEach(skill => {
        on(`change:skill_${skill}_spec change:skill_${skill}_exp`, function(){
            getAttrs([`skill_${skill}_spec`,`skill_${skill}_exp`], function(v){
                if(!!v[`skill_${skill}_spec`]){
                    setAttrs({
                        [`skill_${skill}_spec_roll_visibility`]:1,
                    })
                } else {
                    setAttrs({
                        [`skill_${skill}_spec_roll_visibility`]:0,
                    })
                }
                if(!!v[`skill_${skill}_exp`]){
                    setAttrs({
                        [`skill_${skill}_exp_roll_visibility`]:1,
                    })
                } else {
                    setAttrs({
                        [`skill_${skill}_exp_roll_visibility`]:0,
                    })
                }
            })
        })
    })
    //alle Fertigkeiten sichtbar machen
    on("clicked:reset_skill_visibility", function(){
        skills.forEach(skill => {
            setAttrs({
                [`skill_${skill}_hide`]:0,
            })
        })
    })
    //Ausblenden von Fertigkeiten
    on("clicked:hide_unused_skills", function(){
        skills.forEach(skill => {
            getAttrs([`skill_${skill}_base`], function(v){
                if(v[`skill_${skill}_base`] < 0){
                    setAttrs({
                        [`skill_${skill}_hide`]:1,
                    })
                }
            })
        })
    })
    //Zurücksetzen von Fertigkeiten, Attribute sind ein Krampf ^_^
    on("clicked:reset_skill_values", function(){
        skills.forEach(skill => {
            setAttrs({
                [`skill_${skill}_base`]:-1,
                [`skill_${skill}_exp`]:"",
                [`skill_${skill}_exp_roll_visibility`]:0,
                [`skill_${skill}_exp_visibility`]:0,
                [`skill_${skill}_hide`]:0,
                [`skill_${skill}_spec`]:"",
                [`skill_${skill}_spec_roll_visibility`]:0,
                [`skill_${skill}_spec_visibility`]:0,
            })
            if(skill == "athletics" || skill == "firearms" || skill == "stealth" || skill == "melee"){
                getAttrs(["display_agility"], function(v){
                    setAttrs({
                        [`skill_${skill}_attribute`]:"display_agility",
                        [`skill_${skill}_total`]: +v.display_agility -1,
                    })
                })
            }
            if(skill == "piloting"){
                getAttrs(["display_reaction"], function(v){
                    setAttrs({
                        [`skill_${skill}_attribute`]:"display_reaction",
                        [`skill_${skill}_total`]: +v.display_reaction -1,
                    })
                })
            }
            if(skill == "outdoors" ||skill == "perception"){
                getAttrs(["display_intuition"], function(v){
                    setAttrs({
                        [`skill_${skill}_attribute`]:"display_intuition",
                        [`skill_${skill}_total`]: +v.display_intuition -1,
                    })
                })
            }
            if(skill == "astral"){
                getAttrs(["display_intuition"], function(v){
                    setAttrs({
                        [`skill_${skill}_attribute`]:"display_intuition",
                        [`skill_${skill}_total`]:0,
                    })
                })
            }
            if(skill == "engineering"){
                getAttrs(["display_logic"], function(v){
                    setAttrs({
                        [`skill_${skill}_attribute`]:"display_logic",
                        [`skill_${skill}_total`]: +v.display_logic -1,
                    })
                })
            }
            if(skill == "biotech" || skill == "cracking" || skill == "electronics"){
                getAttrs(["display_logic"], function(v){
                    setAttrs({
                        [`skill_${skill}_attribute`]:"display_logic",
                        [`skill_${skill}_total`]:0,
                    })
                })
            }
            if(skill == "influence" || skill == "con"){
                getAttrs(["display_charisma"], function(v){
                    setAttrs({
                        [`skill_${skill}_attribute`]:"display_charisma",
                        [`skill_${skill}_total`]: +v.display_charisma -1,
                    })
                })
            }
        })
    })
    
    on("clicked:repeating_rangeweapons:reload", function(){
        getAttrs(["repeating_rangeweapons_maximum_ammo"], function(values){
            setAttrs({
                'repeating_rangeweapons_current_ammo': values.repeating_rangeweapons_maximum_ammo,
            });
       })
    });
    
    on("change:repeating_rangeweapons:firemodeem", function(){getAttrs(["repeating_rangeweapons_firemodeem"], function(values){if(values.repeating_rangeweapons_firemodeem == 1){setAttrs({'repeating_rangeweapons_firemodehm': 0,'repeating_rangeweapons_firemodesm': 0,'repeating_rangeweapons_firemodeam': 0,'repeating_rangeweapons_firemode_ar_mod': 0,'repeating_rangeweapons_firemode_dam_mod': 0,'repeating_rangeweapons_firemode_name': "firemode_em",});}})});
    on("change:repeating_rangeweapons:firemodehm", function(){getAttrs(["repeating_rangeweapons_firemodehm"], function(values){if(values.repeating_rangeweapons_firemodehm == 1){setAttrs({'repeating_rangeweapons_firemodeem': 0,'repeating_rangeweapons_firemodesm': 0,'repeating_rangeweapons_firemodeam': 0,'repeating_rangeweapons_firemode_ar_mod': -2,'repeating_rangeweapons_firemode_dam_mod': 1,'repeating_rangeweapons_firemode_name': "firemode_hm",})
           }
       }) 
    });
        on("change:repeating_rangeweapons:firemodesm", function(){ /* only ask for single changing field ... thus the element of change is obvious*/
       getAttrs(["repeating_rangeweapons_firemodesm"], function(values){
           if(values.repeating_rangeweapons_firemodesm == 1){
               setAttrs({
                   'repeating_rangeweapons_firemodehm': 0,
                   'repeating_rangeweapons_firemodeem': 0,
                   'repeating_rangeweapons_firemodeam': 0,
                   'repeating_rangeweapons_firemode_ar_mod': -4,
                   'repeating_rangeweapons_firemode_dam_mod': 2,
                   'repeating_rangeweapons_firemode_name': "firemode_sm",
               })
           }
       }) 
    });
        on("change:repeating_rangeweapons:firemodeam", function(){ /* only ask for single changing field ... thus the element of change is obvious*/
       getAttrs(["repeating_rangeweapons_firemodeam"], function(values){
           if(values.repeating_rangeweapons_firemodeam == 1){
               setAttrs({
                   'repeating_rangeweapons_firemodehm': 0,
                   'repeating_rangeweapons_firemodesm': 0,
                   'repeating_rangeweapons_firemodeem': 0,
                   'repeating_rangeweapons_firemode_ar_mod': 0,
                   'repeating_rangeweapons_firemode_dam_mod': 0,
                   'repeating_rangeweapons_firemode_name': "firemode_am",
               })
           }
       }) 
    });
    
    on("change:repeating_rangeweapons:firemode", function(){
       getAttrs(["repeating_rangeweapons_firemode"], function(values){
          console.log(values.repeating_rangeweapons_firemode);
          if(values.repeating_rangeweapons_firemode > 3){setAttrs({'repeating_rangeweapons_am_visibility': 1});
          } else {setAttrs({'repeating_rangeweapons_am_visibility': 0});}
          if(values.repeating_rangeweapons_firemode % 2 == 1){setAttrs({'repeating_rangeweapons_hm_visibility': 1});
          } else {setAttrs({'repeating_rangeweapons_hm_visibility': 0});}
          if(values.repeating_rangeweapons_firemode % 4 > 1){setAttrs({'repeating_rangeweapons_sm_visibility': 1});
          } else {setAttrs({'repeating_rangeweapons_sm_visibility': 0});}
          setAttrs({'repeating_rangeweapons_em_visibility': 1,}); 
       }) 
    });
    on("change:repeating_rangeweapons:ammodamagemodifier change:repeating_rangeweapons:rangehidecomplexammo", function(){
        getAttrs(["repeating_rangeweapons_rangehidecomplexdamage","repeating_rangeweapons_ammodamagemodifier"], function(values){
            if(values.repeating_rangeweapons_rangehidecomplexdamage == "0"){
                setAttrs({
                    'repeating_rangeweapons_damagevclosemod': values.repeating_rangeweapons_ammodamagemodifier,
                    'repeating_rangeweapons_damageclosemod': values.repeating_rangeweapons_ammodamagemodifier,
                    'repeating_rangeweapons_damagemediummod': values.repeating_rangeweapons_ammodamagemodifier,
                    'repeating_rangeweapons_damagelongmod': values.repeating_rangeweapons_ammodamagemodifier,
                    'repeating_rangeweapons_damagevlongmod': values.repeating_rangeweapons_ammodamagemodifier,
                });
            }
        })
    });
    on("change:repeating_rangeweapons:ammoarmodifier change:repeating_rangeweapons:rangehidecomplexammo", function(){
        getAttrs(["repeating_rangeweapons_rangehidecomplexammo","repeating_rangeweapons_ammoarmodifier"], function(values){
            console.log(values.repeating_rangeweapons_rangehidecomplexammo)
                if(values.repeating_rangeweapons_rangehidecomplexammo == "0"){
                    setAttrs({
                       'repeating_rangeweapons_arvclosemod': values.repeating_rangeweapons_ammoarmodifier,
                       'repeating_rangeweapons_arclosemod': values.repeating_rangeweapons_ammoarmodifier,
                       'repeating_rangeweapons_armediummod': values.repeating_rangeweapons_ammoarmodifier,
                       'repeating_rangeweapons_arlongmod': values.repeating_rangeweapons_ammoarmodifier,
                       'repeating_rangeweapons_arvlongmod': values.repeating_rangeweapons_ammoarmodifier,
                    });
                }
        })
    });
    
    on("change:repeating_rangeweapons:rangeweapondamage change:repeating_rangeweapons:rangehidecomplexdamage", function(){
        getAttrs(["repeating_rangeweapons_rangeweapondamage","repeating_rangeweapons_rangehidecomplexdamage"], function(values){
            console.log(values.repeating_rangeweapons_rangeweapondamage +"|"+ values.repeating_rangeweapons_rangehidecomplexdamage)
            if(values.repeating_rangeweapons_rangehidecomplexdamage == "0"){
                setAttrs({
                    'repeating_rangeweapons_damage_vclose': values.repeating_rangeweapons_rangeweapondamage,
                    'repeating_rangeweapons_damage_close': values.repeating_rangeweapons_rangeweapondamage,
                    'repeating_rangeweapons_damage_medium': values.repeating_rangeweapons_rangeweapondamage,
                    'repeating_rangeweapons_damage_long': values.repeating_rangeweapons_rangeweapondamage,
                    'repeating_rangeweapons_damage_vlong': values.repeating_rangeweapons_rangeweapondamage,
                });
            }
        })
    });
    /* for visual purposes ... multi-connected CSS sucks*/
    on("change:repeating_rangeweapons:rangehidecomplexdamage change:repeating_rangeweapons:rangehidecomplexammo", function(){
       getAttrs(["repeating_rangeweapons_rangehidecomplexdamage","repeating_rangeweapons_rangehidecomplexammo"], function(values){
          if(values.repeating_rangeweapons_rangehidecomplexdamage == "1" && values.repeating_rangeweapons_rangehidecomplexammo == "1") {
              setAttrs({
                  'repeating_rangeweapons_rangehideboth': 1,
              });
          } else {
              setAttrs({
                  'repeating_rangeweapons_rangehideboth': 0,
              });
          }
       }) 
    });
</script>